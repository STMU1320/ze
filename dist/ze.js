!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ZE=n():t.ZE=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=216)}([function(t,n,e){"use strict";e.r(n);var r=e(33);n.default=r.merge({},r)},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"c",function(){return i});var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random;Math.PI},function(t,n,e){"use strict";e.r(n),e.d(n,"create",function(){return o}),e.d(n,"clone",function(){return i}),e.d(n,"fromValues",function(){return a}),e.d(n,"copy",function(){return u}),e.d(n,"set",function(){return s}),e.d(n,"add",function(){return c}),e.d(n,"subtract",function(){return f}),e.d(n,"multiply",function(){return l}),e.d(n,"divide",function(){return p}),e.d(n,"ceil",function(){return h}),e.d(n,"floor",function(){return y}),e.d(n,"min",function(){return d}),e.d(n,"max",function(){return v}),e.d(n,"round",function(){return m}),e.d(n,"scale",function(){return b}),e.d(n,"scaleAndAdd",function(){return g}),e.d(n,"distance",function(){return w}),e.d(n,"squaredDistance",function(){return x}),e.d(n,"length",function(){return _}),e.d(n,"squaredLength",function(){return M}),e.d(n,"negate",function(){return S}),e.d(n,"inverse",function(){return E}),e.d(n,"normalize",function(){return T}),e.d(n,"dot",function(){return j}),e.d(n,"cross",function(){return O}),e.d(n,"lerp",function(){return A}),e.d(n,"random",function(){return P}),e.d(n,"transformMat2",function(){return I}),e.d(n,"transformMat2d",function(){return k}),e.d(n,"transformMat3",function(){return C}),e.d(n,"transformMat4",function(){return R}),e.d(n,"rotate",function(){return D}),e.d(n,"angle",function(){return N}),e.d(n,"str",function(){return q}),e.d(n,"exactEquals",function(){return L}),e.d(n,"equals",function(){return F}),e.d(n,"len",function(){return z}),e.d(n,"sub",function(){return V}),e.d(n,"mul",function(){return B}),e.d(n,"div",function(){return H}),e.d(n,"dist",function(){return W}),e.d(n,"sqrDist",function(){return X}),e.d(n,"sqrLen",function(){return Y}),e.d(n,"forEach",function(){return U});var r=e(1);function o(){var t=new r.a(2);return t[0]=0,t[1]=0,t}function i(t){var n=new r.a(2);return n[0]=t[0],n[1]=t[1],n}function a(t,n){var e=new r.a(2);return e[0]=t,e[1]=n,e}function u(t,n){return t[0]=n[0],t[1]=n[1],t}function s(t,n,e){return t[0]=n,t[1]=e,t}function c(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function f(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function l(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function p(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function h(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function y(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function d(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function v(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function m(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function b(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function g(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function w(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function x(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function _(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function M(t){var n=t[0],e=t[1];return n*n+e*e}function S(t,n){return t[0]=-n[0],t[1]=-n[1],t}function E(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function T(t,n){var e=n[0],r=n[1],o=e*e+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o),t}function j(t,n){return t[0]*n[0]+t[1]*n[1]}function O(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function A(t,n,e,r){var o=n[0],i=n[1];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t}function P(t,n){n=n||1;var e=2*r.c()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function I(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o,t[1]=e[1]*r+e[3]*o,t}function k(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o+e[4],t[1]=e[1]*r+e[3]*o+e[5],t}function C(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[3]*o+e[6],t[1]=e[1]*r+e[4]*o+e[7],t}function R(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[4]*o+e[12],t[1]=e[1]*r+e[5]*o+e[13],t}function D(t,n,e,r){var o=n[0]-e[0],i=n[1]-e[1],a=Math.sin(r),u=Math.cos(r);return t[0]=o*u-i*a+e[0],t[1]=o*a+i*u+e[1],t}function N(t,n){var e=t[0],r=t[1],o=n[0],i=n[1],a=e*e+r*r;a>0&&(a=1/Math.sqrt(a));var u=o*o+i*i;u>0&&(u=1/Math.sqrt(u));var s=(e*o+r*i)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function q(t){return"vec2("+t[0]+", "+t[1]+")"}function L(t,n){return t[0]===n[0]&&t[1]===n[1]}function F(t,n){var e=t[0],o=t[1],i=n[0],a=n[1];return Math.abs(e-i)<=r.b*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-a)<=r.b*Math.max(1,Math.abs(o),Math.abs(a))}var z=_,V=f,B=l,H=p,W=w,X=x,Y=M,U=function(){var t=o();return function(n,e,r,o,i,a){var u,s=void 0;for(e||(e=2),r||(r=0),u=o?Math.min(o*e+r,n.length):n.length,s=r;s<u;s+=e)t[0]=n[s],t[1]=n[s+1],i(t,t,a),n[s]=t[0],n[s+1]=t[1];return n}}()},function(t,n){var e=Array.isArray;t.exports=e},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":e(t);return null!=t&&("object"==n||"function"==n)}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(91),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return null!=t&&"object"==(void 0===t?"undefined":e(t))}},function(t,n,e){var r=e(204),o=e(198);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},function(t,n,e){var r=e(0).default,o=e(19).vec2,i=1e-4;function a(t,n,e,r,o){var i=1-o;return i*i*(i*t+3*o*n)+o*o*(o*r+3*i*e)}function u(t,n,e,r,u,s,c,f,l,p,h){var y=void 0,d=.005,v=1/0,m=void 0,b=void 0,g=void 0,w=void 0,x=void 0,_=void 0,M=void 0,S=[l,p];for(m=0;m<1;m+=.05)b=[a(t,e,u,c,m),a(n,r,s,f,m)],(g=o.squaredDistance(S,b))<v&&(y=m,v=g);v=1/0;for(var E=0;E<32&&!(d<i);E++)M=y+d,b=[a(t,e,u,c,_=y-d),a(n,r,s,f,_)],g=o.squaredDistance(S,b),_>=0&&g<v?(y=_,v=g):(x=[a(t,e,u,c,M),a(n,r,s,f,M)],w=o.squaredDistance(S,x),M<=1&&w<v?(y=M,v=w):d*=.5);return h&&(h.x=a(t,e,u,c,y),h.y=a(n,r,s,f,y)),Math.sqrt(v)}function s(t,n,e,r,o){return o*(o*(-3*t+9*n-9*e+3*r)+6*t-12*n+6*e)-3*t+3*n}function c(t,n,e,o,i,a,u,s,c){r.isNil(c)&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],y=0,d=0;d<12;d++){var v=f(t,n,e,o,i,a,u,s,l*p[d]+l);y+=h[d]*v}return l*y}function f(t,n,e,r,o,i,a,u,c){var f=s(t,e,o,a,c),l=s(n,r,i,u,c),p=f*f+l*l;return Math.sqrt(p)}t.exports={at:a,derivativeAt:function(t,n,e,r,o){var i=1-o;return 3*(((n-t)*i+2*(e-n)*o)*i+(r-e)*o*o)},projectPoint:function(t,n,e,r,o,i,a,s,c,f){var l={};return u(t,n,e,r,o,i,a,s,c,f,l),l},pointDistance:u,extrema:function(t,n,e,o){var i=3*t-9*n+9*e-3*o,a=6*n-12*e+6*o,u=3*e-3*o,s=[],c=void 0,f=void 0,l=void 0;if(r.isNumberEqual(i,0))r.isNumberEqual(a,0)||(c=-u/a)>=0&&c<=1&&s.push(c);else{var p=a*a-4*i*u;r.isNumberEqual(p,0)?s.push(-a/(2*i)):p>0&&(f=(-a-(l=Math.sqrt(p)))/(2*i),(c=(-a+l)/(2*i))>=0&&c<=1&&s.push(c),f>=0&&f<=1&&s.push(f))}return s},len:c,evenSpeed:function(t,n,e,o,a,u,s,l,p,h){r.isNil(h)&&(h=c(t,n,e,o,a,u,s,l,1));for(var y=p*h,d=p,v=void 0;;){var m=f(t,n,e,o,a,u,s,l,d);if(v=d-(c(t,n,e,o,a,u,s,l,d)-y)/m,Math.abs(v)>=1||Number.isNaN(v)){v=1;break}if(Math.abs(d-v)<=i)break;d=v}return v}}},function(t,n){function e(t,n){for(;n;){var e=t;t=n,n=e%n}return t}n.gcd=e,n.lcm=function(t,n){return t*n/e(t,n)},n.isInt=function(t){return"number"==typeof t&&t%1==0},n.round=function(t,n){n=void 0===n?2:n;var e=Math.pow(10,n);return Math.round(parseFloat(t)*e)/e},n.GREEK_LETTERS=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","vartheta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","varrho","sigma","Sigma","tau","upsilon","Upsilon","phi","varphi","Phi","chi","psi","Psi","omega","Omega"]},function(t,n,e){var r=e(5).Symbol;t.exports=r},function(t,n,e){var r=e(10),o=e(202),i=e(201),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,n,e){var r=e(18),o=e(9).isInt,i=e(9).GREEK_LETTERS,a=function(t){if(this.constants=[],"string"==typeof t){var n=new u(t),e=new Term(n);this.terms=[e]}else if(o(t))this.constants=[new r(t,1)],this.terms=[];else if(t instanceof r)this.constants=[t],this.terms=[];else if(t instanceof Term)this.terms=[t];else{if(void 0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Argument must be of type String, Integer, Fraction or Term.");this.terms=[]}};a.prototype.constant=function(){return this.constants.reduce(function(t,n){return t.add(n)},new r(0,1))},a.prototype.simplify=function(){var t=this.copy();return t.terms=t.terms.map(function(t){return t.simplify()}),t._sort(),t._combineLikeTerms(),t._moveTermsWithDegreeZeroToConstants(),t._removeTermsWithCoefficientZero(),t.constants=0===t.constant().valueOf()?[]:[t.constant()],t},a.prototype.copy=function(){var t=new a;return t.constants=this.constants.map(function(t){return t.copy()}),t.terms=this.terms.map(function(t){return t.copy()}),t},a.prototype.add=function(t,n){var e=this.copy();if("string"==typeof t||t instanceof Term||o(t)||t instanceof r){var i=new a(t);return e.add(i,n)}if(!(t instanceof a))throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type String, Expression, Term, Fraction or Integer.");var u=t.copy().terms;return e.terms=e.terms.concat(u),e.constants=e.constants.concat(t.constants),e._sort(),n||void 0===n?e.simplify():e},a.prototype.subtract=function(t,n){var e=t instanceof a?t.multiply(-1):new a(t).multiply(-1);return this.add(e,n)},a.prototype.multiply=function(t,n){var e=this.copy();if("string"==typeof t||t instanceof Term||o(t)||t instanceof r){var i=new a(t);return e.multiply(i,n)}if(!(t instanceof a))throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type String, Expression, Term, Fraction or Integer.");for(var u=t.copy(),s=[],c=0;c<e.terms.length;c++){for(var f=e.terms[c],l=0;l<u.terms.length;l++){var p=u.terms[l];s.push(f.multiply(p,n))}for(l=0;l<u.constants.length;l++)s.push(f.multiply(u.constants[l],n))}for(c=0;c<u.terms.length;c++)for(p=u.terms[c],l=0;l<e.constants.length;l++)s.push(p.multiply(e.constants[l],n));for(c=0;c<e.constants.length;c++){var h=e.constants[c];for(l=0;l<u.constants.length;l++){var y=u.constants[l],d=new Term;d=(d=d.multiply(y,!1)).multiply(h,!1),s.push(d)}}return e.constants=[],e.terms=s,e._sort(),n||void 0===n?e.simplify():e},a.prototype.divide=function(t,n){if(t instanceof r||o(t)){if(0===t.valueOf())throw new EvalError("Divide By Zero");for(var e=this.copy(),i=0;i<e.terms.length;i++)for(var a=e.terms[i],u=0;u<a.coefficients.length;u++)a.coefficients[u]=a.coefficients[u].divide(t,n);return e.constants=e.constants.map(function(e){return e.divide(t,n)}),e}throw new TypeError("Invalid Argument ("+t.toString()+"): Divisor must be of type Fraction or Integer.")},a.prototype.pow=function(t,n){if(o(t)){var e=this.copy();if(0===t)return(new a).add(1);for(var r=1;r<t;r++)e=e.multiply(this,n);return e._sort(),n||void 0===n?e.simplify():e}throw new TypeError("Invalid Argument ("+t.toString()+"): Exponent must be of type Integer.")},a.prototype.eval=function(t,n){var e=new a;return e.constants=n?[this.constant()]:this.constants.slice(),this.terms.reduce(function(e,r){return e.add(r.eval(t,n),n)},e)},a.prototype.summation=function(t,n,e,r){for(var o=this.copy(),i=new a,u=n;u<e+1;u++){var s={};s[t]=u,i=i.add(o.eval(s,r),r)}return i},a.prototype.toString=function(){for(var t="",n=0;n<this.terms.length;n++){var e=this.terms[n];t+=(e.coefficients[0].valueOf()<0?" - ":" + ")+e.toString()}for(n=0;n<this.constants.length;n++){var r=this.constants[n];t+=(r.valueOf()<0?" - ":" + ")+r.abs().toString()}return" - "===t.substring(0,3)?"-"+t.substring(3,t.length):" + "===t.substring(0,3)?t.substring(3,t.length):"0"},a.prototype.toTex=function(t){for(var n="",e=0;e<this.terms.length;e++){var r=this.terms[e];n+=(r.coefficients[0].valueOf()<0?" - ":" + ")+r.toTex(t)}for(e=0;e<this.constants.length;e++){var o=this.constants[e];n+=(o.valueOf()<0?" - ":" + ")+o.abs().toTex()}return" - "===n.substring(0,3)?"-"+n.substring(3,n.length):" + "===n.substring(0,3)?n.substring(3,n.length):"0"},a.prototype._removeTermsWithCoefficientZero=function(){return this.terms=this.terms.filter(function(t){return 0!==t.coefficient().reduce().numer}),this},a.prototype._combineLikeTerms=function(){function t(t,n){for(var e=0;e<n.length;e++)if(t.canBeCombinedWith(n[e]))return!0;return!1}for(var n=[],e=[],r=0;r<this.terms.length;r++){var o=this.terms[r];if(!t(o,e)){for(var i=r+1;i<this.terms.length;i++){var a=this.terms[i];o.canBeCombinedWith(a)&&(o=o.add(a))}n.push(o),e.push(o)}}return this.terms=n,this},a.prototype._moveTermsWithDegreeZeroToConstants=function(){for(var t=[],n=new r(0,1),e=0;e<this.terms.length;e++){var o=this.terms[e];0===o.variables.length?n=n.add(o.coefficient()):t.push(o)}return this.constants.push(n),this.terms=t,this},a.prototype._sort=function(){return this.terms=this.terms.sort(function(t,n){var e=t.maxDegree(),r=n.maxDegree();if(e===r){var o=t.variables.length;return n.variables.length-o}return r-e}),this},a.prototype._hasVariable=function(t){for(var n=0;n<this.terms.length;n++)if(this.terms[n].hasVariable(t))return!0;return!1},a.prototype._onlyHasVariable=function(t){for(var n=0;n<this.terms.length;n++)if(!this.terms[n].onlyHasVariable(t))return!1;return!0},a.prototype._noCrossProductsWithVariable=function(t){for(var n=0;n<this.terms.length;n++){var e=this.terms[n];if(e.hasVariable(t)&&!e.onlyHasVariable(t))return!1}return!0},a.prototype._noCrossProducts=function(){for(var t=0;t<this.terms.length;t++)if(this.terms[t].variables.length>1)return!1;return!0},a.prototype._maxDegree=function(){return this.terms.reduce(function(t,n){return Math.max(t,n.maxDegree())},1)},a.prototype._maxDegreeOfVariable=function(t){return this.terms.reduce(function(n,e){return Math.max(n,e.maxDegreeOfVariable(t))},1)},a.prototype._quadraticCoefficients=function(){for(var t,n=new r(0,1),e=0;e<this.terms.length;e++){var o=this.terms[e];t=2===o.maxDegree()?o.coefficient().copy():t,n=1===o.maxDegree()?o.coefficient().copy():n}return{a:t,b:n,c:this.constant()}},a.prototype._cubicCoefficients=function(){for(var t,n=new r(0,1),e=new r(0,1),o=0;o<this.terms.length;o++){var i=this.terms[o];t=3===i.maxDegree()?i.coefficient().copy():t,n=2===i.maxDegree()?i.coefficient().copy():n,e=1===i.maxDegree()?i.coefficient().copy():e}return{a:t,b:n,c:e,d:this.constant()}},Term=function(t){if(t instanceof u)this.variables=[t.copy()];else{if(void 0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Term initializer must be of type Variable.");this.variables=[]}this.coefficients=[new r(1,1)]},Term.prototype.coefficient=function(){return this.coefficients.reduce(function(t,n){return t.multiply(n)},new r(1,1))},Term.prototype.simplify=function(){var t=this.copy();return t.coefficients=[this.coefficient()],t.combineVars(),t.sort()},Term.prototype.combineVars=function(){for(var t={},n=0;n<this.variables.length;n++){var e=this.variables[n];e.variable in t?t[e.variable]+=e.degree:t[e.variable]=e.degree}var r=[];for(var o in t){var i=new u(o);i.degree=t[o],r.push(i)}return this.variables=r,this},Term.prototype.copy=function(){var t=new Term;return t.coefficients=this.coefficients.map(function(t){return t.copy()}),t.variables=this.variables.map(function(t){return t.copy()}),t},Term.prototype.add=function(t){if(t instanceof Term&&this.canBeCombinedWith(t)){var n=this.copy();return n.coefficients=[n.coefficient().add(t.coefficient())],n}throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type String, Expression, Term, Fraction or Integer.")},Term.prototype.subtract=function(t){if(t instanceof Term&&this.canBeCombinedWith(t)){var n=this.copy();return n.coefficients=[n.coefficient().subtract(t.coefficient())],n}throw new TypeError("Invalid Argument ("+t.toString()+"): Subtrahend must be of type String, Expression, Term, Fraction or Integer.")},Term.prototype.multiply=function(t,n){var e=this.copy();if(t instanceof Term)e.variables=e.variables.concat(t.variables),e.coefficients=t.coefficients.concat(e.coefficients);else{if(!(o(t)||t instanceof r))throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type String, Expression, Term, Fraction or Integer.");var i=o(t)?new r(t,1):t;0===e.variables.length?e.coefficients.push(i):e.coefficients.unshift(i)}return n||void 0===n?e.simplify():e},Term.prototype.divide=function(t,n){if(o(t)||t instanceof r){var e=this.copy();return e.coefficients=e.coefficients.map(function(e){return e.divide(t,n)}),e}throw new TypeError("Invalid Argument ("+t.toString()+"): Argument must be of type Fraction or Integer.")},Term.prototype.eval=function(t,n){for(var e=this.copy(),i=(Object.keys(t),e.coefficients.reduce(function(t,e){return t.multiply(e,n)},new a(1))),u=0;u<e.variables.length;u++){var s,c=e.variables[u];if(c.variable in t){var f=t[c.variable];if(f instanceof r||f instanceof a)s=f.pow(c.degree);else{if(!o(f))throw new TypeError("Invalid Argument ("+f+"): Can only evaluate Expressions or Fractions.");s=Math.pow(f,c.degree)}}else s=new a(c.variable).pow(c.degree);i=i.multiply(s,n)}return i},Term.prototype.hasVariable=function(t){for(var n=0;n<this.variables.length;n++)if(this.variables[n].variable===t)return!0;return!1},Term.prototype.maxDegree=function(){return this.variables.reduce(function(t,n){return Math.max(t,n.degree)},1)},Term.prototype.maxDegreeOfVariable=function(t){return this.variables.reduce(function(n,e){return e.variable===t?Math.max(n,e.degree):n},1)},Term.prototype.canBeCombinedWith=function(t){var n=this.variables,e=t.variables;if(n.length!=e.length)return!1;for(var r=0,o=0;o<n.length;o++)for(var i=0;i<e.length;i++)n[o].variable===e[i].variable&&n[o].degree===e[i].degree&&(r+=1);return r===n.length},Term.prototype.onlyHasVariable=function(t){for(var n=0;n<this.variables.length;n++)if(this.variables[n].variable!=t)return!1;return!0},Term.prototype.sort=function(){return this.variables=this.variables.sort(function(t,n){return n.degree-t.degree}),this},Term.prototype.toString=function(){for(var t="",n=0;n<this.coefficients.length;n++){var e=this.coefficients[n];1===e.abs().numer&&1===e.abs().denom||(t+=" * "+e.toString())}return"-"===(t=" * "===(t=this.variables.reduce(function(t,n){return t.concat(n.toString())},t)).substring(0,3)?t.substring(3,t.length):t).substring(0,1)?t.substring(1,t.length):t},Term.prototype.toTex=function(t){(t=void 0===t?{}:t).multiplication="multiplication"in t?t.multiplication:"cdot";for(var n=" \\"+t.multiplication+" ",e="",r=0;r<this.coefficients.length;r++){var o=this.coefficients[r];1===o.abs().numer&&1===o.abs().denom||(e+=n+o.toTex())}return"\\frac{-"===(e="-"===(e=(e=this.variables.reduce(function(t,n){return t.concat(n.toTex())},e)).substring(0,n.length)===n?e.substring(n.length,e.length):e).substring(0,1)?e.substring(1,e.length):e).substring(0,7)?"\\frac{"+e.substring(7,e.length):e};var u=function(t){if("string"!=typeof t)throw new TypeError("Invalid Argument ("+t.toString()+"): Variable initalizer must be of type String.");this.variable=t,this.degree=1};u.prototype.copy=function(){var t=new u(this.variable);return t.degree=this.degree,t},u.prototype.toString=function(){var t=this.degree,n=this.variable;return 0===t?"":1===t?n:n+"^"+t},u.prototype.toTex=function(){var t=this.degree,n=this.variable;return i.indexOf(n)>-1&&(n="\\"+n),0===t?"":1===t?n:n+"^{"+t+"}"},t.exports={Expression:a,Term:Term,Variable:u}},function(t,n,e){var r=e(20);t.exports=function(t){if("string"==typeof t||r(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(t,n,e){var r=e(77),o=e(155),i=e(16);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,n,e){var r=e(78),o=e(47);t.exports=function(t,n,e,i){var a=!e;e||(e={});for(var u=-1,s=n.length;++u<s;){var c=n[u],f=i?i(e[c],t[c],c,e,t):void 0;void 0===f&&(f=t[c]),a?o(e,c,f):r(e,c,f)}return e}},function(t,n,e){var r=e(49),o=e(42);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n,e){var r=e(9).isInt,o=e(9).gcd,i=e(9).lcm,a=function(t,n){if(0===n)throw new EvalError("Divide By Zero");if(!r(t)||!r(n))throw new TypeError("Invalid Argument ("+t.toString()+","+n.toString()+"): Divisor and dividend must be of type Integer.");this.numer=t,this.denom=n};a.prototype.copy=function(){return new a(this.numer,this.denom)},a.prototype.reduce=function(){var t=this.copy(),n=o(t.numer,t.denom);return t.numer=t.numer/n,t.denom=t.denom/n,-1==Math.sign(t.denom)&&1==Math.sign(t.numer)&&(t.numer*=-1,t.denom*=-1),t},a.prototype.equalTo=function(t){if(t instanceof a){var n=this.reduce(),e=t.reduce();return n.numer===e.numer&&n.denom===e.denom}return!1},a.prototype.add=function(t,n){var e,o;if(n=void 0===n||n,t instanceof a)e=t.numer,o=t.denom;else{if(!r(t))throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type Fraction or Integer.");e=t,o=1}var u=this.copy();if(this.denom==o)u.numer+=e;else{var s=i(u.denom,o),c=s/u.denom,f=s/o;u.numer*=c,u.denom*=c,e*=f,u.numer+=e}return n?u.reduce():u},a.prototype.subtract=function(t,n){n=void 0===n||n;var e=this.copy();if(t instanceof a)return e.add(new a(-t.numer,t.denom),n);if(r(t))return e.add(new a(-t,1),n);throw new TypeError("Invalid Argument ("+t.toString()+"): Subtrahend must be of type Fraction or Integer.")},a.prototype.multiply=function(t,n){var e,o;if(n=void 0===n||n,t instanceof a)e=t.numer,o=t.denom;else if(r(t)&&t)e=t,o=1;else{if(0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type Fraction or Integer.");e=0,o=1}var i=this.copy();return i.numer*=e,i.denom*=o,n?i.reduce():i},a.prototype.divide=function(t,n){if(n=void 0===n||n,0===t.valueOf())throw new EvalError("Divide By Zero");var e=this.copy();if(t instanceof a)return e.multiply(new a(t.denom,t.numer),n);if(r(t))return e.multiply(new a(1,t),n);throw new TypeError("Invalid Argument ("+t.toString()+"): Divisor must be of type Fraction or Integer.")},a.prototype.pow=function(t,n){n=void 0===n||n;var e=this.copy();return e.numer=Math.pow(e.numer,t),e.denom=Math.pow(e.denom,t),n?e.reduce():e},a.prototype.abs=function(){var t=this.copy();return t.numer=Math.abs(t.numer),t.denom=Math.abs(t.denom),t},a.prototype.valueOf=function(){return this.numer/this.denom},a.prototype.toString=function(){return 0===this.numer?"0":1===this.denom?this.numer.toString():-1===this.denom?(-this.numer).toString():this.numer+"/"+this.denom},a.prototype.toTex=function(){return 0===this.numer?"0":1===this.denom?this.numer.toString():-1===this.denom?(-this.numer).toString():"\\frac{"+this.numer+"}{"+this.denom+"}"},a.prototype._squareRootIsRational=function(){if(0===this.valueOf())return!0;var t=Math.sqrt(this.numer),n=Math.sqrt(this.denom);return r(t)&&r(n)},a.prototype._cubeRootIsRational=function(){if(0===this.valueOf())return!0;var t=Math.cbrt(this.numer),n=Math.cbrt(this.denom);return r(t)&&r(n)},t.exports=a},function(t,n,e){var r=e(33),o=e(101),i=e(100),a=e(2);a.angle=function(t,n){var e=a.dot(t,n)/(a.length(t)*a.length(n));return Math.acos(r.clamp(e,-1,1))},a.direction=function(t,n){return t[0]*n[1]-n[0]*t[1]},a.angleTo=function(t,n,e){var r=a.angle(t,n),o=a.direction(t,n)>=0;return e?o?2*Math.PI-r:r:o?r:2*Math.PI-r},a.vertical=function(t,n,e){return e?(t[0]=n[1],t[1]=-1*n[0]):(t[0]=-1*n[1],t[1]=n[0]),t},o.translate=function(t,n,e){var r=new Array(9);return o.fromTranslation(r,e),o.multiply(t,r,n)},o.rotate=function(t,n,e){var r=new Array(9);return o.fromRotation(r,e),o.multiply(t,r,n)},o.scale=function(t,n,e){var r=new Array(9);return o.fromScaling(r,e),o.multiply(t,r,n)},t.exports={mat3:o,vec2:a,vec3:i,transform:function(t,n){return t=r.clone(t),r.each(n,function(n){switch(n[0]){case"t":o.translate(t,t,[n[1],n[2]]);break;case"s":o.scale(t,t,[n[1],n[2]]);break;case"r":o.rotate(t,t,n[1]);break;case"m":o.multiply(t,t,n[1]);break;default:return!1}}),t}}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(11),i=e(6);t.exports=function(t){return"symbol"==(void 0===t?"undefined":r(t))||i(t)&&"[object Symbol]"==o(t)}},function(t,n,e){var r=e(153),o=e(50),i=e(152),a=e(151),u=e(150),s=e(11),c=e(90),f=c(r),l=c(o),p=c(i),h=c(a),y=c(u),d=s;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=d(new o)||i&&"[object Promise]"!=d(i.resolve())||a&&"[object Set]"!=d(new a)||u&&"[object WeakMap]"!=d(new u))&&(d=function(t){var n=s(t),e="[object Object]"==n?t.constructor:void 0,r=e?c(e):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case y:return"[object WeakMap]"}return n}),t.exports=d},function(t,n){t.exports=function(t){return t}},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var o=void 0===t?"undefined":e(t);return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n,e){var r=e(77),o=e(176),i=e(16);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(5),i=e(181),a="object"==r(n)&&n&&!n.nodeType&&n,u=a&&"object"==r(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,e(46)(t))},function(t,n,e){var r=e(182),o=e(6),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,n,e){var r=e(189);t.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},function(t,n,e){var r=e(7)(Object,"create");t.exports=r},function(t,n,e){var r=e(17);t.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},function(t,n,e){var r=e(214),o=e(213),i=e(212),a=e(211),u=e(210);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n,e){var r=e(31),o=e(209),i=e(208),a=e(207),u=e(206),s=e(205);function c(t){var n=this.__data__=new r(t);this.size=n.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,n,e){"use strict";e.r(n),e.d(n,"upperFirst",function(){return M}),e.d(n,"isEmpty",function(){return S}),e.d(n,"isNumberEqual",function(){return E}),e.d(n,"mod",function(){return T}),e.d(n,"clamp",function(){return j}),e.d(n,"assign",function(){return O}),e.d(n,"translateToPi",function(){return A});var r=e(92),o=e.n(r);e.d(n,"merge",function(){return o.a});var i=e(75),a=e.n(i);e.d(n,"remove",function(){return a.a});var u=e(63),s=e.n(u);e.d(n,"each",function(){return s.a});var c=e(61),f=e.n(c);e.d(n,"clone",function(){return f.a});var l=e(58),p=e.n(l);e.d(n,"cloneDeep",function(){return p.a});var h=e(57),y=e.n(h);e.d(n,"isNil",function(){return y.a});var d=e(56),v=e.n(d);e.d(n,"debounce",function(){return v.a});var m=e(54),b=e.n(m);e.d(n,"findLastIndex",function(){return b.a});var g=e(52),w=e.n(g);e.d(n,"differenceBy",function(){return w.a});var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=1e-5;function M(t){return S(t)?"":t.charAt(0).toUpperCase()+t.slice(1)}function S(t){return null==t||""===t||(Array.isArray(t)?0===t.length:"object"===(void 0===t?"undefined":x(t))&&0===Object.keys(t).length)}function E(t,n){return Math.abs(t-n)<_}function T(t,n){return(t%n+n)%n}function j(t,n,e){return t<n?n:t>e?e:t}function O(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if(0===e.length)return t;for(var o=function(n){var r=e[n];if(null==r||"object"!==(void 0===r?"undefined":x(r)))return"continue";Object.keys(r).forEach(function(n){var e=r[n];"object"!==(void 0===e?"undefined":x(e))||Array.isArray(e)?t[n]=e:t[n]=Object.assign({},t[n],e)})},i=0;i<e.length;i++)o(i);return t}function A(t){return t/180*Math.PI}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(3),i=e(20),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,n){if(o(t))return!1;var e=void 0===t?"undefined":r(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!i(t))||u.test(t)||!a.test(t)||null!=n&&t in Object(n)}},function(t,n,e){var r=e(3),o=e(34),i=e(146),a=e(143);t.exports=function(t,n){return r(t)?t:o(t,n)?[t]:i(a(t))}},function(t,n,e){var r=e(35),o=e(13);t.exports=function(t,n){for(var e=0,i=(n=r(n,t)).length;null!=t&&e<i;)t=t[o(n[e++])];return e&&e==i?t:void 0}},function(t,n,e){var r=e(156),o=e(68),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(n){return i.call(t,n)}))}:o;t.exports=u},function(t,n){t.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(166),i=e(148),a=e(22),u=e(3),s=e(138);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==(void 0===t?"undefined":r(t))?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,n,e){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(91),i="object"==r(n)&&n&&!n.nodeType&&n,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{return a&&a.require&&a.require("util").types||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,e(46)(t))},function(t,n,e){var r=e(179),o=e(25),i=e(40),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,n){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){var r=e(81)(Object.getPrototypeOf,Object);t.exports=r},function(t,n,e){var r=e(84);t.exports=function(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){var r=e(88);t.exports=function(t,n,e){"__proto__"==n&&r?r(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}},function(t,n,e){var r=e(197),o=e(190),i=e(188),a=e(187),u=e(186);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n,e){var r=e(11),o=e(4);t.exports=function(t){if(!o(t))return!1;var n=r(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(t,n,e){var r=e(7)(e(5),"Map");t.exports=r},function(t,n,e){var r=e(12).Expression,o=e(12).Variable,i=e(12).Term,a=e(18),u=e(9).isInt,s=function(t,n){if(!(t instanceof r))throw new TypeError("Invalid Argument ("+t.toString()+"): Left-hand side must be of type Expression.");if(this.lhs=t,n instanceof r)this.rhs=n;else{if(!(n instanceof a||u(n)))throw new TypeError("Invalid Argument ("+n.toString()+"): Right-hand side must be of type Expression, Fraction or Integer.");this.rhs=new r(n)}};s.prototype.solveFor=function(t){if(!this.lhs._hasVariable(t)&&!this.rhs._hasVariable(t))throw new TypeError("Invalid Argument ("+t.toString()+"): Variable does not exist in the equation.");if(this._isLinear()||this._variableCanBeIsolated(t)){for(var n=new i(new o(t)),e=new r,u=new r,s=0;s<this.rhs.terms.length;s++)(c=this.rhs.terms[s]).canBeCombinedWith(n)?e=e.subtract(c):u=u.add(c);for(s=0;s<this.lhs.terms.length;s++){var c;(c=this.lhs.terms[s]).canBeCombinedWith(n)?e=e.add(c):u=u.subtract(c)}if(u=(u=u.subtract(this.lhs.constant())).add(this.rhs.constant()),0===e.terms.length){if(e.constant().equalTo(u.constant()))return new a(1,1);throw new EvalError("No Solution")}return 0===(u=u.divide(e.terms[0].coefficient())).terms.length?u.constant().reduce():(u._sort(),u)}if(0===(e=(e=this.lhs.copy()).subtract(this.rhs)).terms.length){if(0===e.constant().valueOf())return[new a(1,1)];throw new EvalError("No Solution")}if(this._isQuadratic(t)){var f=(m=e._quadraticCoefficients()).a,l=m.b,p=m.c,h=l.pow(2).subtract(f.multiply(p).multiply(4));if(h.valueOf()>=0){if(0===h.valueOf())return[l.multiply(-1).divide(f.multiply(2)).reduce()];var y;if(h._squareRootIsRational()){y=h.pow(.5);var d=l.multiply(-1).subtract(y).divide(f.multiply(2)),v=l.multiply(-1).add(y).divide(f.multiply(2));return[d.reduce(),v.reduce()]}return y=Math.sqrt(h.valueOf()),f=f.valueOf(),[d=(-(l=l.valueOf())-y)/(2*f),v=(-l+y)/(2*f)]}return[]}if(this._isCubic(t)){f=(m=e._cubicCoefficients()).a,l=m.b,p=m.c;var m,b=m.d,g=f.multiply(l).multiply(p).multiply(b).multiply(18);g=(g=(g=(g=g.subtract(l.pow(3).multiply(b).multiply(4))).add(l.pow(2).multiply(p.pow(2)))).subtract(f.multiply(p.pow(3)).multiply(4))).subtract(f.pow(2).multiply(b.pow(2)).multiply(27));var w=l.pow(2).subtract(f.multiply(p).multiply(3));if(0===g.valueOf())return 0===w.valueOf()?[(d=l.multiply(-1).divide(f.multiply(3))).reduce()]:(d=(d=(d=(d=f.multiply(l).multiply(p).multiply(4)).subtract(f.pow(2).multiply(b).multiply(9))).subtract(l.pow(3))).divide(f.multiply(w)),v=f.multiply(b).multiply(9).subtract(l.multiply(p)).divide(w.multiply(2)),[d.reduce(),v.reduce()]);var x=(p/f*3-Math.pow(l,2)/Math.pow(f,2))/3,_=2*Math.pow(l,3)/Math.pow(f,3);_-=9*l*p/Math.pow(f,2),_+=27*b/f,_/=27;var M=Math.pow(_,2)/4+Math.pow(x,3)/27;if(M>0){var S=-_/2+Math.sqrt(M),E=Math.cbrt(S),T=-_/2-Math.sqrt(M);return(d=E+Math.cbrt(T)-l/(3*f))<0?d-(R=Math.floor(d))<1e-15&&(d=R):d>0&&(R=Math.ceil(d))-d<1e-15&&(d=R),[d]}s=Math.sqrt(Math.pow(_,2)/4-M);var j=Math.cbrt(s),O=Math.acos(-_/(2*s)),A=-j,P=Math.cos(O/3),I=Math.sqrt(3)*Math.sin(O/3),k=-l/(3*f),C=(v=A*(P+I)+k,A*(P-I)+k);if((d=2*j*Math.cos(O/3)-l/(3*f))<0)d-(R=Math.floor(d))<1e-15&&(d=R);else if(d>0){var R;(R=Math.ceil(d))-d<1e-15&&(d=R)}if(v<0)v-(D=Math.floor(v))<1e-15&&(v=D);else if(v>0){var D;(D=Math.ceil(v))-v<1e-15&&(v=D)}if(d<0)C-(N=Math.floor(C))<1e-15&&(C=N);else if(C>0){var N;(N=Math.ceil(C))-C<1e-15&&(C=N)}var q=[d,v,C];return q.sort(function(t,n){return t-n}),[q[0],q[1],q[2]]}},s.prototype.eval=function(t){return new s(this.lhs.eval(t),this.rhs.eval(t))},s.prototype.toString=function(){return this.lhs.toString()+" = "+this.rhs.toString()},s.prototype.toTex=function(){return this.lhs.toTex()+" = "+this.rhs.toTex()},s.prototype._maxDegree=function(){var t=this.lhs._maxDegree(),n=this.rhs._maxDegree();return Math.max(t,n)},s.prototype._maxDegreeOfVariable=function(t){return Math.max(this.lhs._maxDegreeOfVariable(t),this.rhs._maxDegreeOfVariable(t))},s.prototype._variableCanBeIsolated=function(t){return 1===this._maxDegreeOfVariable(t)&&this._noCrossProductsWithVariable(t)},s.prototype._noCrossProductsWithVariable=function(t){return this.lhs._noCrossProductsWithVariable(t)&&this.rhs._noCrossProductsWithVariable(t)},s.prototype._noCrossProducts=function(){return this.lhs._noCrossProducts()&&this.rhs._noCrossProducts()},s.prototype._onlyHasVariable=function(t){return this.lhs._onlyHasVariable(t)&&this.rhs._onlyHasVariable(t)},s.prototype._isLinear=function(){return 1===this._maxDegree()&&this._noCrossProducts()},s.prototype._isQuadratic=function(t){return 2===this._maxDegree()&&this._onlyHasVariable(t)},s.prototype._isCubic=function(t){return 3===this._maxDegree()&&this._onlyHasVariable(t)},t.exports=s},function(t,n,e){var r=e(110),o=e(104),i=e(39),a=e(76),u=e(80),s=e(64),c=a(function(t,n){var e=s(n);return u(e)&&(e=void 0),u(t)?r(t,o(n,1,u,!0),i(e,2)):[]});t.exports=c},function(t,n){t.exports=function(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}},function(t,n,e){var r=e(53),o=e(39),i=e(112),a=Math.max,u=Math.min;t.exports=function(t,n,e){var s=null==t?0:t.length;if(!s)return-1;var c=s-1;return void 0!==e&&(c=i(e),c=e<0?a(s+c,0):u(c,s-1)),r(t,o(n,3),c,!0)}},function(t,n,e){var r=e(4),o=e(20),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var e=u.test(t);return e||s.test(t)?c(t.slice(2),e?2:8):a.test(t)?NaN:+t}},function(t,n,e){var r=e(4),o=e(113),i=e(55),a=Math.max,u=Math.min;t.exports=function(t,n,e){var s,c,f,l,p,h,y=0,d=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(n){var e=s,r=c;return s=c=void 0,y=n,l=t.apply(r,e)}function g(t){var e=t-h;return void 0===h||e>=n||e<0||v&&t-y>=f}function w(){var t=o();if(g(t))return x(t);p=setTimeout(w,function(t){var e=n-(t-h);return v?u(e,f-(t-y)):e}(t))}function x(t){return p=void 0,m&&s?b(t):(s=c=void 0,l)}function _(){var t=o(),e=g(t);if(s=arguments,c=this,h=t,e){if(void 0===p)return function(t){return y=t,p=setTimeout(w,n),d?b(t):l}(h);if(v)return p=setTimeout(w,n),b(h)}return void 0===p&&(p=setTimeout(w,n)),l}return n=i(n)||0,r(e)&&(d=!!e.leading,f=(v="maxWait"in e)?a(i(e.maxWait)||0,n):f,m="trailing"in e?!!e.trailing:m),_.cancel=function(){void 0!==p&&clearTimeout(p),y=0,s=h=c=p=void 0},_.flush=function(){return void 0===p?l:x(o())},_}},function(t,n){t.exports=function(t){return null==t}},function(t,n,e){var r=e(60);t.exports=function(t){return r(t,5)}},function(t,n,e){var r=e(38),o=e(44),i=e(37),a=e(68),u=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)r(n,i(t)),t=o(t);return n}:a;t.exports=u},function(t,n,e){var r=e(32),o=e(62),i=e(78),a=e(127),u=e(126),s=e(86),c=e(83),f=e(125),l=e(124),p=e(70),h=e(123),y=e(21),d=e(122),v=e(121),m=e(82),b=e(3),g=e(26),w=e(117),x=e(4),_=e(115),M=e(14),S="[object Arguments]",E="[object Function]",T="[object Object]",j={};j[S]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[T]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[E]=j["[object WeakMap]"]=!1,t.exports=function t(n,e,O,A,P,I){var k,C=1&e,R=2&e,D=4&e;if(O&&(k=P?O(n,A,P,I):O(n)),void 0!==k)return k;if(!x(n))return n;var N=b(n);if(N){if(k=d(n),!C)return c(n,k)}else{var q=y(n),L=q==E||"[object GeneratorFunction]"==q;if(g(n))return s(n,C);if(q==T||q==S||L&&!P){if(k=R||L?{}:m(n),!C)return R?l(n,u(k,n)):f(n,a(k,n))}else{if(!j[q])return P?n:{};k=v(n,q,C)}}I||(I=new r);var F=I.get(n);if(F)return F;if(I.set(n,k),_(n))return n.forEach(function(r){k.add(t(r,e,O,r,n,I))}),k;if(w(n))return n.forEach(function(r,o){k.set(o,t(r,e,O,o,n,I))}),k;var z=D?R?h:p:R?keysIn:M,V=N?void 0:z(n);return o(V||n,function(r,o){V&&(r=n[o=r]),i(k,o,t(r,e,O,o,n,I))}),k}},function(t,n,e){var r=e(60);t.exports=function(t){return r(t,4)}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}},function(t,n,e){var r=e(62),o=e(131),i=e(128),a=e(3);t.exports=function(t,n){return(a(t)?r:o)(t,i(n))}},function(t,n){t.exports=function(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}},function(t,n){t.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}},function(t,n,e){var r=e(4);t.exports=function(t){return t==t&&!r(t)}},function(t,n){t.exports=function(){return[]}},function(t,n,e){var r=e(38),o=e(3);t.exports=function(t,n,e){var i=n(t);return o(t)?i:r(i,e(t))}},function(t,n,e){var r=e(69),o=e(37),i=e(14);t.exports=function(t){return r(t,i,o)}},function(t,n){t.exports=function(t,n){return t.has(n)}},function(t,n,e){var r=e(48),o=e(163),i=e(162);function a(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new r;++n<e;)this.add(t[n])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,n,e){var r=e(72),o=e(161),i=e(71);t.exports=function(t,n,e,a,u,s){var c=1&e,f=t.length,l=n.length;if(f!=l&&!(c&&l>f))return!1;var p=s.get(t);if(p&&s.get(n))return p==n;var h=-1,y=!0,d=2&e?new r:void 0;for(s.set(t,n),s.set(n,t);++h<f;){var v=t[h],m=n[h];if(a)var b=c?a(m,v,h,n,t,s):a(v,m,h,t,n,s);if(void 0!==b){if(b)continue;y=!1;break}if(d){if(!o(n,function(t,n){if(!i(d,n)&&(v===t||u(v,t,e,a,s)))return d.push(n)})){y=!1;break}}else if(v!==m&&!u(v,m,e,a,s)){y=!1;break}}return s.delete(t),s.delete(n),y}},function(t,n,e){var r=e(164),o=e(6);t.exports=function t(n,e,i,a,u){return n===e||(null==n||null==e||!o(n)&&!o(e)?n!=n&&e!=e:r(n,e,i,a,t,u))}},function(t,n,e){var r=e(39),o=e(135);t.exports=function(t,n){var e=[];if(!t||!t.length)return e;var i=-1,a=[],u=t.length;for(n=r(n,3);++i<u;){var s=t[i];n(s,i,t)&&(e.push(s),a.push(i))}return o(t,a),e}},function(t,n,e){var r=e(22),o=e(173),i=e(171);t.exports=function(t,n){return i(o(t,n,r),t+"")}},function(t,n,e){var r=e(177),o=e(27),i=e(3),a=e(26),u=e(23),s=e(41),c=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),f=!e&&o(t),l=!e&&!f&&a(t),p=!e&&!f&&!l&&s(t),h=e||f||l||p,y=h?r(t.length,String):[],d=y.length;for(var v in t)!n&&!c.call(t,v)||h&&("length"==v||l&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,d))||y.push(v);return y}},function(t,n,e){var r=e(47),o=e(17),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e){var a=t[n];i.call(t,n)&&o(a,e)&&(void 0!==e||n in t)||r(t,n,e)}},function(t,n){t.exports=function(t,n){return"__proto__"==n?void 0:t[n]}},function(t,n,e){var r=e(16),o=e(6);t.exports=function(t){return o(t)&&r(t)}},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(183),o=e(44),i=e(43);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,n){t.exports=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}},function(t,n,e){var r=e(5).Uint8Array;t.exports=r},function(t,n,e){var r=e(45);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,n,e){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(5),i="object"==r(n)&&n&&!n.nodeType&&n,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,r=s?s(e):new t.constructor(e);return t.copy(r),r}}).call(this,e(46)(t))},function(t,n,e){var r=e(185)();t.exports=r},function(t,n,e){var r=e(7),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,n,e){var r=e(47),o=e(17);t.exports=function(t,n,e){(void 0===e||o(t[n],e))&&(void 0!==e||n in t)||r(t,n,e)}},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n,e){(function(n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==(void 0===n?"undefined":e(n))&&n&&n.Object===Object&&n;t.exports=r}).call(this,e(203))},function(t,n,e){var r=e(215),o=e(174)(function(t,n,e){r(t,n,e)});t.exports=o},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"Line",function(){return Ut}),e.d(r,"Rect",function(){return Zt}),e.d(r,"Circle",function(){return Gt}),e.d(r,"Text",function(){return Jt}),e.d(r,"ZImage",function(){return nn}),e.d(r,"ZVideo",function(){return rn}),e.d(r,"Polygon",function(){return cn}),e.d(r,"Ring",function(){return ln}),e.d(r,"Arc",function(){return hn}),e.d(r,"Bezier",function(){return dn}),e.d(r,"Polyline",function(){return gn});var o=e(0),i={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return-t*(t-2)},easeInOut:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var n=1.70158,e=0,r=1;return 0===t?0:1===t?1:(e||(e=.3),r<1?(r=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e))},easeOutElastic:function(t){var n=1.70158,e=0,r=1;return 0===t?0:1===t?1:(e||(e=.3),r<1?(r=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var n=1.70158,e=0,r=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.45),r<1?(r=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:function(t){return 1-i.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*i.easeInBounce(2*t):.5*i.easeOutBounce(2*t-1)+.5}},a=i,u=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function s(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function c(){}var f="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,y=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),v=new RegExp("^rgb\\("+[p,p,p]+"\\)$"),m=new RegExp("^rgba\\("+[f,f,f,l]+"\\)$"),b=new RegExp("^rgba\\("+[p,p,p,l]+"\\)$"),g=new RegExp("^hsl\\("+[l,p,p]+"\\)$"),w=new RegExp("^hsla\\("+[l,p,p,l]+"\\)$"),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(t){var n;return t=(t+"").trim().toLowerCase(),(n=h.exec(t))?new j((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=y.exec(t))?M(parseInt(n[1],16)):(n=d.exec(t))?new j(n[1],n[2],n[3],1):(n=v.exec(t))?new j(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=m.exec(t))?S(n[1],n[2],n[3],n[4]):(n=b.exec(t))?S(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=g.exec(t))?A(n[1],n[2]/100,n[3]/100,1):(n=w.exec(t))?A(n[1],n[2]/100,n[3]/100,n[4]):x.hasOwnProperty(t)?M(x[t]):"transparent"===t?new j(NaN,NaN,NaN,0):null}function M(t){return new j(t>>16&255,t>>8&255,255&t,1)}function S(t,n,e,r){return r<=0&&(t=n=e=NaN),new j(t,n,e,r)}function E(t){return t instanceof c||(t=_(t)),t?new j((t=t.rgb()).r,t.g,t.b,t.opacity):new j}function T(t,n,e,r){return 1===arguments.length?E(t):new j(t,n,e,null==r?1:r)}function j(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function O(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function A(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new I(t,n,e,r)}function P(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof I)return new I(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=_(t)),!t)return new I;if(t instanceof I)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,u=i-o,s=(i+o)/2;return u?(a=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new I(a,u,s,t.opacity)}(t):new I(t,n,e,null==r?1:r)}function I(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function k(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}u(c,_,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),u(j,T,s(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+O(this.r)+O(this.g)+O(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),u(I,P,s(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new I(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new I(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new j(k(t>=240?t-240:t+120,o,r),k(t,o,r),k(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var C=Math.PI/180,R=180/Math.PI,D=.96422,N=1,q=.82521,L=4/29,F=6/29,z=3*F*F,V=F*F*F;function B(t){if(t instanceof H)return new H(t.l,t.a,t.b,t.opacity);if(t instanceof Z){if(isNaN(t.h))return new H(t.l,0,0,t.opacity);var n=t.h*C;return new H(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof j||(t=E(t));var e,r,o=U(t.r),i=U(t.g),a=U(t.b),u=W((.2225045*o+.7168786*i+.0606169*a)/N);return o===i&&i===a?e=r=u:(e=W((.4360747*o+.3850649*i+.1430804*a)/D),r=W((.0139322*o+.0971045*i+.7141733*a)/q)),new H(116*u-16,500*(e-u),200*(u-r),t.opacity)}function H(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function W(t){return t>V?Math.pow(t,1/3):t/z+L}function X(t){return t>F?t*t*t:z*(t-L)}function Y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function U(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Z)return new Z(t.h,t.c,t.l,t.opacity);if(t instanceof H||(t=B(t)),0===t.a&&0===t.b)return new Z(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*R;return new Z(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Z(t,n,e,null==r?1:r)}function Z(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}u(H,function(t,n,e,r){return 1===arguments.length?B(t):new H(t,n,e,null==r?1:r)},s(c,{brighter:function(t){return new H(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new H(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new j(Y(3.1338561*(n=D*X(n))-1.6168667*(t=N*X(t))-.4906146*(e=q*X(e))),Y(-.9787684*n+1.9161415*t+.033454*e),Y(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),u(Z,$,s(c,{brighter:function(t){return new Z(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Z(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return B(this).rgb()}}));var Q=-.14861,G=1.78277,K=-.29227,J=-.90649,tt=1.97294,nt=tt*J,et=tt*G,rt=G*K-J*Q;function ot(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);t instanceof j||(t=E(t));var n=t.r/255,e=t.g/255,r=t.b/255,o=(rt*r+nt*n-et*e)/(rt+nt-et),i=r-o,a=(tt*(e-o)-K*i)/J,u=Math.sqrt(a*a+i*i)/(tt*o*(1-o)),s=u?Math.atan2(a,i)*R-120:NaN;return new it(s<0?s+360:s,u,o,t.opacity)}(t):new it(t,n,e,null==r?1:r)}function it(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function at(t,n,e,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*n+(4-6*i+3*a)*e+(1+3*t+3*i-3*a)*r+a*o)/6}u(it,ot,s(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*C,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),o=Math.sin(t);return new j(255*(n+e*(Q*r+G*o)),255*(n+e*(K*r+J*o)),255*(n+e*(tt*r)),this.opacity)}}));var ut=function(t){return function(){return t}};function st(t,n){return function(e){return t+e*n}}function ct(t,n){var e=n-t;return e?st(t,e>180||e<-180?e-360*Math.round(e/360):e):ut(isNaN(t)?n:t)}function ft(t,n){var e=n-t;return e?st(t,e):ut(isNaN(t)?n:t)}var lt=function t(n){var e=function(t){return 1==(t=+t)?ft:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ut(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=T(t)).r,(n=T(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),a=ft(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function pt(t){return function(n){var e,r,o=n.length,i=new Array(o),a=new Array(o),u=new Array(o);for(e=0;e<o;++e)r=T(n[e]),i[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return i=t(i),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=u(t),r+""}}}pt(function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,u=r<n-1?t[r+2]:2*i-o;return at((e-r/n)*n,a,o,i,u)}}),pt(function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),o=t[(r+n-1)%n],i=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return at((e-r/n)*n,o,i,a,u)}});var ht,yt,dt,vt,mt=function(t,n){return n-=t=+t,function(e){return t+n*e}},bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wt=new RegExp(gt.source,"g"),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t=function(t,n){var e,r=void 0===n?"undefined":xt(n);return null==n||"boolean"===r?ut(n):("number"===r?mt:"string"===r?(e=_(n))?(n=e,lt):function(t,n){var e,r,o,i=gt.lastIndex=wt.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=gt.exec(t))&&(r=wt.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:mt(e,r)})),i=wt.lastIndex;return i<n.length&&(o=n.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}:n instanceof _?lt:n instanceof Date?function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(e=0;e<o;++e)i[e]=_t(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<o;++e)a[e]=i[e](t);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},o={};for(e in null!==t&&"object"===(void 0===t?"undefined":bt(t))||(t={}),null!==n&&"object"===(void 0===n?"undefined":bt(n))||(n={}),n)e in t?r[e]=_t(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}}:mt)(t,n)},Mt=180/Math.PI,St={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Et=function(t,n,e,r,o,i){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(n,t)*Mt,skewX:Math.atan(s)*Mt,scaleX:a,scaleY:u}};function Tt(t,n,e,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],s=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:mt(t,o)},{i:s-2,x:mt(r,i)})}else(o||i)&&a.push("translate("+o+n+i+e)}(i.translateX,i.translateY,a.translateX,a.translateY,u,s),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),s.push({i:e.push(o(e)+"rotate(",null,r)-2,x:mt(t,n)})):n&&e.push(o(e)+"rotate("+n+r)}(i.rotate,a.rotate,u),function(t,n,e,i){t!==n?s.push({i:e.push(o(e)+"skewX(",null,r)-2,x:mt(t,n)}):n&&e.push(o(e)+"skewX("+n+r)}(i.skewX,a.skewX,u),function(t,n,e,r,i,a){if(t!==e||n!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:mt(t,e)},{i:u-2,x:mt(n,r)})}else 1===e&&1===r||i.push(o(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,s),i=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}function jt(t){return function(n,e){var r=t((n=P(n)).h,(e=P(e)).h),o=ft(n.s,e.s),i=ft(n.l,e.l),a=ft(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=o(t),n.l=i(t),n.opacity=a(t),n+""}}}function Ot(t){return function(n,e){var r=t((n=$(n)).h,(e=$(e)).h),o=ft(n.c,e.c),i=ft(n.l,e.l),a=ft(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=o(t),n.l=i(t),n.opacity=a(t),n+""}}}function At(t){return function n(e){function r(n,r){var o=t((n=ot(n)).h,(r=ot(r)).h),i=ft(n.s,r.s),a=ft(n.l,r.l),u=ft(n.opacity,r.opacity);return function(t){return n.h=o(t),n.s=i(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}Tt(function(t){return"none"===t?St:(ht||(ht=document.createElement("DIV"),yt=document.documentElement,dt=document.defaultView),ht.style.transform=t,t=dt.getComputedStyle(yt.appendChild(ht),null).getPropertyValue("transform"),yt.removeChild(ht),t=t.slice(7,-1).split(","),Et(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Tt(function(t){return null==t?St:(vt||(vt=document.createElementNS("http://www.w3.org/2000/svg","g")),vt.setAttribute("transform",t),(t=vt.transform.baseVal.consolidate())?(t=t.matrix,Et(t.a,t.b,t.c,t.d,t.e,t.f)):St)},", ",")",")"),Math.SQRT2,jt(ct),jt(ft),Ot(ct),Ot(ft),At(ct),At(ft);var Pt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],Ct=function(){function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Rt.call(this);var o=r.attrs,i=r.style,a=r.animate,u=r.zIndex,s=r.event,c=r.visible,f=void 0===c||c;this.container=n,this.type=e,this.attrs=o,this.canvas=null,this.timer=null,this.visible=f,this.zIndex=u||0,this.deep=n instanceof t?n.deep+1:0,this._weight=n instanceof t?n._weight+1:0,this._status={drawn:!1,dirty:!1},this._heritage={},this.__original__={},this._initStyle(i),this._initEvent(s),this._initComputed(),this._initAnimate(a)}return t.prototype._initStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.container.getHeritage().style,e=this._getFontStyle(t);Object.keys(t).forEach(function(n){kt.includes(n)&&(e[n]=t[n])}),this.style=e,this._setHeritage({style:o.default.assign({},n,e)})},t.prototype._getFontStyle=function(t){var n={},e=this.container.getContext().font.split(/(\d{1,}px)/gi),r="",o="",i="";if(t.fontStyle&&(r=r+t.fontStyle+" "),t.fontWeight&&(r=r+t.fontWeight+" "),t.fontVariant&&(r=r+t.fontVariant+" "),t.fontSize&&(o="string"==typeof t.fontSize?t.fontSize:t.fontSize+"px"),t.fontFamily&&(i=t.fontFamily),r||o||i){var a=[r||e[0],o||e[1],i||e[2]];parseInt(a[1])<12&&(a[1]="12px"),n.font=a.join(" ")}return n},t.prototype._getFontSize=function(t){var n=this.container.getContext(),e=/(^|\s)(\d{1,}\.?\d*)px(\s|$)/gi.exec(t||n.font)[2];return e?+e:0},t.prototype._initEvent=function(t){if(t&&"object"===(void 0===t?"undefined":It(t)))for(var n in t)this.on(n,t[n])},t.prototype._initAnimate=function(n){this.animateCfg=o.default.assign({},t.DEFAULT_ANIMATE_CFG),n&&this.animate(n)},t.prototype._initComputed=function(){this.computed={}},t.prototype._updateComputed=function(){},t.prototype._noticeParentStatus=function(t){var n=this.container;"Layer"===n.type&&n._set("_status",t)},t.prototype._set=function(t,n){this[t]?Object.assign(this[t],n):this[t]=n},t.prototype._setHeritage=function(t){Object.assign(this._heritage,t)},t.prototype.getHeritage=function(){return this._heritage},t.prototype._clear=function(){},t.prototype.setAttrs=function(t){if(!o.default.isEmpty(t)||"Video"===this.type){var n={},e={},r={dirty:!0},i=this.getContext();return Object.keys(t).forEach(function(r){var o=t[r];"fontSize"===r?e.font=i.font.replace(/(^|\s)(\d{1,}\.?\d*px)(\s|$)/gi," "+o+"px "):["fillStyle","strokeStyle","lineDash"].includes(r)?e[r]=o:n[r]=o}),(!o.default.isEmpty(e)||"opacity"in n)&&(r.styleChanged=!0,this.setStyle(e)),o.default.isEmpty(n)||(this._updateComputed(n),this._set("attrs",n)),this.setStatus(r),this}},t.prototype.setStyle=function(t){if(!o.default.isEmpty(t)){var n=Object.keys(t);(n.includes("lineWidth")||n.includes("font"))&&this._updateComputed(t),this._set("style",t);var e=this.container.getHeritage().style;return this._setHeritage({style:Object.assign({},e,t)}),this}},t.prototype.setStatus=function(t){return this._set("_status",t),t.dirty&&this._noticeParentStatus({dirty:!0}),this},t.prototype.getContext=function(){return this.container.getContext()},t.prototype.getCanvas=function(){return this.canvas||(this.canvas=this.container.getCanvas()),this.canvas},t.prototype.includes=function(){return!0},t}();Ct.STYLE_KEYS=kt,Ct.DEFAULT_ANIMATE_CFG={to:null,from:null,cb:null,diff:null,startTime:null,delay:0,duration:0,status:"stop",effect:"linear"};var Rt=function(){var t=this;this._stopAnimation=function(n){var e=t.timer,r=t.getCanvas();e&&(cancelAnimationFrame(e),t.timer=null);var o=r.computed.animate;r._setComputed({animate:o-1}),r.draw(),n&&n(t)},this._playAnimation=function(){var n=t.animateCfg,e=n.startTime,r=n.duration,i=n.to,u=n.diff,s=n.from,c=n.effect,f=n.callback,l=n.frameEnd,p=n.repeat,h=n.loop,y=Date.now(),d=y-e;if(d<0)return setTimeout(t._playAnimation,-d);if(d<r){var v=d/r,m=a[c](v),b={};Object.keys(u).forEach(function(t){b[t]=u[t](m)}),t.setAttrs(b),o.default.assign(t.animateCfg,{status:"playing",lastTime:y,current:b,passTime:d}),l&&l(t),t.timer=requestAnimationFrame(t._playAnimation)}else h?(t.setAttrs(i),l&&l(t),t.animate({props:s,loop:h,duration:r,effect:c})):p?(t.setAttrs(s),l&&l(t),o.default.assign(t.animateCfg,{status:"playing",lastTime:y,startTime:y}),t.timer=requestAnimationFrame(t._playAnimation)):(t.setAttrs(i),l&&l(t),o.default.assign(t.animateCfg,{status:"stop",lastTime:y,passTime:r,current:Pt({},i)}),t._stopAnimation(f))},this.getStatus=function(){return t._status},this.getOriginal=function(n){var e=t.__original__[n];return e&&o.default.cloneDeep(e)},this.animate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.props,r=n.duration,o=n.effect,i=void 0===o?"linear":o,a=n.callback,u=n.frameEnd,s=n.delay,c=void 0===s?0:s,f=n.repeat,l=n.loop,p=n.autoPlay,h=void 0===p||p;if(e&&r){var y=t.animateCfg;"playing"===y.status&&t._stopAnimation(y.callback);var d=t.attrs,v=t.style,m=t.getContext(),b={},g={},w={};return Object.keys(e).forEach(function(n){var r=d[n];null==r&&(r=v[n]),["fillStyle","strokeStyle"].includes(n)?(r=v[n]||m[n],w[n]=lt(r,e[n])):"fontSize"===n?(r=t._getFontSize(v.font||m.font),w[n]=mt(r,e[n])):w[n]="number"==typeof r?mt(r,e[n]):_t(r,e[n]),b[n]=r,g[n]=e[n]}),Object.assign(t.animateCfg,{duration:r,effect:i,status:"ready",to:g,from:b,current:b,diff:w,callback:a,frameEnd:u,delay:c,repeat:f,passTime:0,loop:l}),t._set("__original__",{animate:n}),h&&t.play(),t}},this.play=function(){var n=t.animateCfg,e=n.status,r=n.delay,i=t.getCanvas();if(i.getStatus().drawn){if("ready"===e){var a=Date.now()+r,u=i.computed.animate;i._setComputed({animate:u+1}),o.default.assign(t.animateCfg,{startTime:a,lastTime:0}),t.timer=requestAnimationFrame(t._playAnimation),i.draw()}}else i.once("@@play",t.play);return t},this.stop=function(){return t._stopAnimation(t.animateCfg.cb),t},this.update=function(){return t.getCanvas().update(),t},this.on=function(n,e){return t.getCanvas().on(n,e,t)},this.off=function(n,e){return t.getCanvas().off(n,e,t)},this.addEventListener=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];t.on(e)},this.removeEventListener=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];t.off(e)},this.once=function(n,e){return t.getCanvas().on(n,e,t,!0)},this.trigger=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var o=t.getCanvas();return o.trigger.apply(o,[type,t].concat(e))},this.show=function(){return t.visible||(t.visible=!0,t.setStatus({dirty:!0}),t.update()),t},this.hide=function(){return t.visible&&(t.visible=!1,t.setStatus({dirty:!0}),t.update()),t},this.destroy=function(){return t._clear(),t.getCanvas().remove(t),t}},Dt=Ct,Nt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},qt=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.registeredElements={},this._lastTrigger=[]}return t.prototype._isElement=function(t){return t instanceof Dt||t instanceof HTMLElement||Array.isArray(t)&&t.every(function(t){return t instanceof Dt||t instanceof HTMLElement})},t.prototype._isElementEvent=function(t){var n=this;return!o.default.isEmpty(t)&&(Array.isArray(t)?t.every(function(t){return n._isElement(t.element)}):this._isElement(t.element))},t.prototype._createEvent=function(t,n,e,r){return{type:t,callback:n,element:e,once:r}},t.prototype._createEventData=function(t,n,e){var r={origin:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},x:e.x,y:e.y,layerX:e.layerX,layerY:e.layerY,type:t,target:n,prevent:!1,stop:!1,timeStamp:Date.now(),preventDefault:function(){r.prevent=!0},stopPropagation:function(){r.stop=!0}};return r},t.prototype._getTriggerElement=function(t,n){var e=t;return Array.isArray(t)||(e=[t]),e.filter(function(t){return t.element===n})[0]},t.prototype._clearEvent=function(t){var n=this.registeredElements,e=this.events,r=[];return null==t?(r=e,this.events={},this.registeredElements={},this._lastTrigger=[],r):(Array.isArray(t)||(t=[t]),t.forEach(function(t){for(var i in e){var a=o.default.remove(e[i],function(n){return n.element===t});a.length>0&&(r.concat(a),o.default.remove(n[i],function(n){return n===t}))}}),r)},t.prototype.on=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n||!t)throw"添加事件函数必须接收事件类型和事件处理函数两个参数";if("function"!=typeof n||"string"!=typeof t)throw"事件类型必须为字符串，处理函数必须为Function类型";var i=this.events,a=this.registeredElements,u=this._createEvent(t,n,e,r);if(t in i){var s=i[t];if(!s.find(function(t){return t.element?t.callback===n&&t.element===e:t.callback===n})){var c=o.default.findLastIndex(s,function(t){return!t.element||!e||e._weight>=t.element._weight});c<1?s.unshift(u):s.splice(c-1,0,u)}}else i[t]=[u];return o.default.isEmpty(a[t])&&(a[t]=[]),e&&!a[t].includes(e)&&a[t].push(e),i[t].length},t.prototype.off=function(t,n,e){if(!t)throw"必须传入需要移除的事件类型或者绑定的事件元素";if(n&&"function"!=typeof n&&(e=n,n=null),this._isElement(t))return this._clearEvent(t);var r=this.events,i=this.registeredElements,a=r[t],u=i[t],s=[];switch(!0){case!n&&!e:s=a,r[t]=[],i[t]=[];break;case n&&!e:if(0!==(s=o.default.remove(a,function(t){return t.callback===n})).length){var c=s[0].element;c&&(a.some(function(t){return t.element&&t.element===c})||o.default.remove(u,function(t){return t===c}))}break;case!n&&e:s=o.default.remove(a,function(t){return t.element===e}),o.default.remove(u,function(t){return t===e});break;default:s=o.default.remove(a,function(t){return t.callback===n&&t.element===e}),a.some(function(t){return t.element===e})||o.default.remove(u,function(t){return t===e})}return s},t.prototype.trigger=function(t,n){var e=this,r=this.events;if("string"!=typeof t)throw"触发事件类型必须为string类型";for(var i=r[t],a=[],u=[],s=this._isElementEvent(n),c=arguments.length,f=Array(c>2?c-2:0),l=2;l<c;l++)f[l-2]=arguments[l];if(i&&(s?i.forEach(function(t){var r=e._getTriggerElement(n,t.element);r&&a.push(Nt({},t,{eventData:r.eventData}))}):(f.unshift(n),n=null,a=i)),!o.default.isEmpty(a))for(var p=void 0,h=0;h<a.length;h++){var y=a[h],d=[].concat(f);if(y.eventData&&(d.unshift(y.eventData),p=y.eventData),y.callback.apply(y.element||this,d),y.once&&u.push(y),p&&p.stop)return}o.default.isEmpty(u)||o.default.remove(i,function(t){return u.includes(t)})},t.prototype.once=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];n[3]=!0,this.on.apply(this,n)},t.prototype.addEventListener=function(){this.on.apply(this,arguments)},t.prototype.removeEventListener=function(){this.off.apply(this,arguments)},t.prototype.emit=function(){this.trigger.apply(this,arguments)},t}(),Lt=function(t){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var a=o.default.assign({},{attrs:n.ATTRS},r);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,a))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._createPath=function(){},n.prototype._getLineWidth=function(){var t=this.style.lineWidth;if(null==t){var n=this.container.getHeritage(),e=this.container.style,r=Object.assign({},n.style,e);t=null==r.lineWidth?1:r.lineWidth}return t},n.prototype._draw=function(t){var n=this.attrs,e=this.style,r=this.visible,i=n.hasStroke,a=n.hasFill,u=n.opacity,s=t.globalAlpha;r&&(t.save(),1!==u&&(t.globalAlpha=o.default.clamp(s*u,0,1)),Object.keys(e).forEach(function(n){if("lineDash"===n&&t.setLineDash){var r=e[n];Array.isArray(r)?t.setLineDash(r):"number"==typeof r&&t.setLineDash([r])}else t[n]=e[n]}),this._createPath(t),i&&t.lineWidth>0&&t.stroke(),a&&t.fill(),t.restore(),this.setStatus({drawn:!0,dirty:!1}))},n}(Dt);Lt.ATTRS={hasFill:!0,hasStroke:!1,opacity:1};var Ft=Lt,zt=e(102),Vt=e(99),Bt=e(8),Ht=e(98),Wt=e(97),Xt={line:function(t,n,e,r,o,i,a){if(o<=0)return!1;var u=zt.box(t,n,e,r,o);if(!this.box(u.minX,u.minY,u.maxX,u.maxY,i,a))return!1;var s=zt.pointDistance(t,n,e,r,i,a);return!isNaN(s)&&s<=o/2},polyline:function(t,n,e,r,o){var i=t.length-1;if(i<1)return!1;for(var a=0;a<i;a++){var u=t[a][0],s=t[a][1],c=t[a+1][0],f=t[a+1][1];if(this.line(u,s,c,f,n,r,o))return!0}return!!e&&this.line(t[0][0],t[0][1],t[i][0],t[i][1],n,r,o)},polyBezier:function(t,n,e,r,o,i){var a=t.length;if(a<1)return!1;for(var u=0;u<a-1;u++){var s=t[u],c=t[u+1],f=n[2*u],l=n[2*u+1];if(this.cubicline(s[0],s[1],f[0],f[1],l[0],l[1],c[0],c[1],e,o,i))return!0}return!1},cubicline:function(t,n,e,r,o,i,a,u,s,c,f){return Bt.pointDistance(t,n,e,r,o,i,a,u,c,f)<=s/2},quadraticline:function(t,n,e,r,o,i,a,u,s){return Vt.pointDistance(t,n,e,r,o,i,u,s)<=a/2},arcline:function(t,n,e,r,o,i,a,u,s){return 0!==a&&Ht.pointDistance(t,n,e,r,o,i,u,s)<=a/2},rect:function(t,n,e,r,o,i){return t<=o&&o<=t+e&&n<=i&&i<=n+r},circle:function(t,n,e,r,o){return Math.pow(r-t,2)+Math.pow(o-n,2)<=Math.pow(e,2)},ring:function(t,n,e,r,o,i,a,u){var s=Math.PI,c=i>0?1:-1,f=!1;Math.abs(i)>s&&(i+=2*s*-1*c,f=!0);var l=o+i,p=Math.sqrt(Math.pow(a-t,2)+Math.pow(u-n,2)),h=p<=r,y=p>=e,d=[r*Math.cos(o),r*Math.sin(o)],v=[r*Math.cos(l),r*Math.sin(l)],m=[a-t,u-n],b=0|Wt.product(d,m),g=0|Wt.product(v,m),w=h&&y,x=!1;return i===2*s?w:(x=i>0?b>=0&&g<=0:b<=0&&g>=0,f?w&&!x:w&&x)},box:function(t,n,e,r,o,i){return t<=o&&o<=e&&n<=i&&i<=r}},Yt=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Line",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x1,o=e.y1,i=e.x2,a=e.y2,u=this._getLineWidth();return Xt.line(r,o,i,a,u,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.x1,r=n.y1,o=n.x2,i=n.y2,a=this._getLineWidth();(e===o&&e%1==0||r===i&&r%1==0)&&1===a&&t.translate(-.5,-.5),t.beginPath(),t.moveTo(e,r),t.lineTo(o,i)},n}(Ft);Yt.ATTRS={x1:0,y1:0,x2:0,y2:10,hasFill:!1,hasStroke:!0};var Ut=Yt,$t=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Rect",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,o=e.y,i=e.w,a=e.h;return Xt.rect(r,o,i,a,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,o=n.w,i=n.h,a=n.cw,u=n.radius,s=Math.PI;t.beginPath(),u<=0?a?(t.moveTo(e,r),t.lineTo(e,r+i),t.lineTo(e+o,r+i),t.lineTo(e+o,r)):t.rect(e,r,o,i):a?(t.moveTo(e,r+u),t.lineTo(e,r+i-u),t.arc(e+u,r+i-u,u,s,s/2,!0),t.lineTo(e+o-u,r+i),t.arc(e+o-u,r+i-u,u,s/2,0,!0),t.lineTo(e+o,r+u),t.arc(e+o-u,r+u,u,0,1.5*s,!0),t.lineTo(e+u,r),t.arc(e+u,r+u,u,1.5*s,s,!0)):(t.moveTo(e,r+u),t.arc(e+u,r+u,u,s,1.5*s),t.lineTo(e+o-u,r),t.arc(e+o-u,r+u,u,1.5*s,2*s),t.lineTo(e+o,r+i-u),t.arc(e+o-u,r+i-u,u,0,s/2),t.lineTo(e+u,r+i),t.arc(e+u,r+i-u,u,s/2,s),t.lineTo(e,r+u)),t.closePath()},n}(Ft);$t.ATTRS={x:0,y:0,w:10,h:10,radius:0,cw:!1};var Zt=$t,Qt=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Circle",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,o=e.y,i=e.r;return e.hasStroke&&(i+=this._getLineWidth()/2),Xt.circle(r,o,i,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,o=n.r,i=n.cw;if(o<=0)throw"r must be greater than 0";t.beginPath(),t.arc(e,r,o,0,2*Math.PI,i),t.closePath()},n}(Ft);Qt.ATTRS={x:0,y:0,r:10,cw:!1};var Gt=Qt,Kt=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS,style:n.STYLE},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Text",i,r));return a._updateComputed(i.attrs),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._needUpdateComputedByProps=function(t){if(!t)return!1;var n=t.text,e=t.lineHeight,r=t.font;return null!=n||null!=r||null!=e},n.prototype._getCacheCtx=function(){var t=this._cacheCtx;return t||(t=document.createElement("canvas").getContext("2d"),this._cacheCtx=t),t},n.prototype._updateComputed=function(t){if(this._needUpdateComputedByProps(t)){var n=t.text||this.attrs.text,e=t.lineHeight||this.attrs.lineHeight,r=t.font||this.style.font,i=this._getCacheCtx(),a=this.getContext();i.font=r||a.font;var u=this._getFontSize(i.font),s=e||1.5*u,c=u,f=0,l=!1;Array.isArray(n)?(l=!0,c=n.length*s,n.forEach(function(t){var n=~~(i.measureText(t).width+.5);n>f&&(f=n)})):f=~~(i.measureText(n).width+.5),o.default.assign(this.computed,{w:f,h:c,multi:l})}},n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,o=e.y,i=this._getCacheCtx(),a=this.style,u=a.textBaseline,s=a.textAlign,c=this.computed,f=c.w,l=c.h,p=c.multi,h=this._getFontSize(i.font);if(!p)switch(u){case"middle":o-=h/2;break;case"top":case"hanging":o+=h/8;break;default:o-=h}switch(s){case"end":case"right":r-=f;break;case"center":r-=f/2}return Xt.rect(r,o,f,l,t,n)},n.prototype._drawSingleText=function(t,n,e,r){var o=this.attrs,i=o.hasFill,a=o.hasStroke;i&&t.fillText(n,e,r),a&&t.strokeText(n,e,r)},n.prototype._draw=function(t){var n=this,e=this.attrs,r=this.style,i=this.visible,a=e.x,u=e.y,s=e.text,c=e.opacity,f=e.lineHeight,l=t.globalAlpha;if(i){if(t.save(),1!==c&&(t.globalAlpha=o.default.clamp(l*c,0,1)),Object.keys(r).forEach(function(n){t[n]=r[n]}),Array.isArray(s)){var p=f||1.5*this._getFontSize(t.font);t.textBaseline="top",s.forEach(function(e,r){n._drawSingleText(t,e,a,u+r*p)})}else this._drawSingleText(t,s,a,u);t.restore()}},n}(Ft);Kt.ATTRS={text:"",x:0,y:0,lineHeight:void 0};var Jt=Kt,tn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Image",i,r));return"string"==typeof a.attrs.img&&(a.setStatus({loading:!0}),a._createImage(a.attrs.img)),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,o=e.y,i=e.w,a=e.h;return Xt.rect(r,o,i,a,t,n)},n.prototype._createImage=function(t){var n=this,e=new Image;e.onload=function(){n.setAttrs({img:e}),n.setStatus({loading:!1}),n.update()},e.src=t},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,o=n.w,i=n.h;t.beginPath(),t.rect(e,r,o,i),t.closePath()},n.prototype._draw=function(t){var n=this.attrs,e=this.style,r=n.hasStroke,i=n.opacity,a=n.img,u=n.x,s=n.y,c=n.w,f=n.h,l=this.getStatus().loading,p=t.globalAlpha;1!==i&&(t.globalAlpha=o.default.clamp(p*i,0,1)),t.save(),Object.keys(e).forEach(function(n){t[n]=e[n]}),this._createPath(t),r&&t.lineWidth>0&&t.stroke(),(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement)&&!l&&t.drawImage(a,u,s,c,f),1!==i&&(t.globalAlpha=p),t.restore()},n}(Ft);tn.ATTRS={x:0,y:0,w:10,h:10,img:void 0};var nn=tn,en=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Video",i,r)),u=a.attrs.video;return"string"==typeof u&&(a.setStatus({loading:!0}),a._createVideo(u),/\.m3u8$/gi.test(u)&&a._loadHlsLib()),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,o=e.y,i=e.w,a=e.h;return Xt.rect(r,o,i,a,t,n)},n.prototype._videoPlay=function(){var t=this.attrs.video;try{t.play()}catch(t){}},n.prototype._loadHlsLib=function(){var t=this,n=this.attrs.video,e=document.createElement("script");e.type="text/javascript",e.src="https://cdn.jsdelivr.net/npm/hls.js@latest",document.body.appendChild(e),e.onload=function(){var e=new Hls;e.loadSource(n.getAttribute("src")),e.attachMedia(n),e.on(Hls.Events.MANIFEST_PARSED,function(){t._videoPlay()})}},n.prototype._createVideo=function(t){var n=this,e=this.attrs,r=e.w,o=e.h,i=document.createElement("video");i.setAttribute("width",r),i.setAttribute("height",o),i.setAttribute("preload","metadata"),this.setAttrs({video:i}),i.onplay=function(){n.play()},i.onloadedmetadata=function(t){n.setStatus({loading:!1}),n.animate({props:{},duration:~~(1e3*t.timeStamp+.5)}),n._videoPlay()},i.onended=function(){n._stopAnimation()},i.muted=!0,i.src=t,document.addEventListener("click",function t(){i.muted=!1,document.removeEventListener("click",t)})},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,o=n.w,i=n.h;t.beginPath(),t.rect(e,r,o,i),t.closePath()},n.prototype._draw=function(t){var n=this.attrs,e=this.style,r=n.hasStroke,i=n.opacity,a=n.video,u=n.x,s=n.y,c=n.w,f=n.h,l=this.getStatus().loading,p=t.globalAlpha;t.save(),1!==i&&(t.globalAlpha=o.default.clamp(p*i,0,1)),Object.keys(e).forEach(function(n){t[n]=e[n]}),this._createPath(t),r&&t.lineWidth>0&&t.stroke(),a instanceof HTMLVideoElement&&!l&&t.drawImage(a,u,s,c,f),t.restore()},n}(Ft);en.ATTRS={x:0,y:0,w:10,h:10,video:void 0};var rn=en,on=e(96),an=e(0).default;function un(t){var n=t.r,e=t.x,r=t.y,o=t.vertices,i=t.angle,a=[[e,r-n]];o%2==0&&(a[o/2]=[e,r+n]);for(var u=2*Math.PI/o,s=function(t){var i=0,s=0,c=u*t,f=a[0][0],l=a[0][1],p="(x - "+e+") * ("+(f-e)+") + (y - "+r+") * ("+(l-r)+") = "+function(t){return 0|Math.round(n*n*Math.cos(t))}(c),h=on.parse(p).solveFor("y"),y=h.toString();on.parse("(x - "+e+") ^ 2 + ("+y+" - "+r+") ^ 2 = "+(0|Math.pow(n,2))).solveFor("x").valueOf().forEach(function(n,e){if(i=Math.round(n.valueOf()),y.includes("x")){var r=h.eval({x:i}).toString();if(r.includes("/")){var u=r.split("/"),c=+u[0],f=+u[1];s=Math.round(c/f)}else s=Math.round(+r)}else s=Math.round(h.valueOf());0===e?a[o-t]=[i,s]:a[t]=[i,s]})},c=1;c<=(o-1)/2;c++)s(c);if(!an.isEmpty(i)){var f=i/180*Math.PI,l=Math.cos,p=Math.sin,h=[];h[0]=l(f),h[1]=p(f),h[2]=0,h[3]=-p(f),h[4]=l(f),h[5]=l(0),h[6]=(1-l(f))*e+p(f)*r,h[7]=(1-l(f))*r-p(f)*e,h[8]=1;var y=[];a.forEach(function(t){var n=t[0],e=t[1],r=n*h[0]+e*h[3]+1*h[6],o=n*h[1]+e*h[4]+1*h[7],i=n*h[2]+e*h[5]+1*h[8];y.push([r,o,i])}),a=y}return a}var sn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),e.attrs&&e.attrs.vertices>100&&(console.warn("Polygon vertices for a maximum of 100"),e.attrs.vertices=100);var i=o.default.assign({},{attrs:n.ATTRS},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Polygon",i,r));return a.attrs.regular&&a.attrs.vertices>2&&a._initPathPoints(),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._initPathPoints=function(){var t=this.attrs,n=t.r,e=t.vertices,r=un({r:n,x:t.x,y:t.y,vertices:e,angle:t.angle});this.setAttrs({points:r})},n.prototype._updateComputed=function(t){if(t&&t.points){var n=1/0,e=1/0,r=-1/0,i=-1/0;t.points.forEach(function(t){t[0]<n&&(n=t[0]),t[1]<e&&(e=t[1]),t[0]>r&&(r=t[0]),t[1]>i&&(i=t[1])}),o.default.assign(this.computed,{minX:n,minY:e,maxX:r,maxY:i})}},n.prototype.setAttrs=function(n){var e=this.attrs,r=e.r,i=e.vertices,a=e.x,u=e.y,s=e.angle;if(e.regular&&("r"in n||"x"in n||"y"in n||"angle"in n||"vertices"in n)){r=o.default.isEmpty(n.r)?r:n.r,i=null!=n.vertices?o.default.clamp(Math.round(n.vertices),3,100):i;var c=un({r:r,x:a=o.default.isEmpty(n.x)?a:n.x,y:u=o.default.isEmpty(n.y)?u:n.y,vertices:i,angle:s=o.default.isEmpty(n.angle)?s:n.angle});n.points=c}t.prototype.setAttrs.call(this,n)},n.prototype.includes=function(t,n){var e=this.attrs,r=e.hasFill,o=e.hasStroke,i=e.points;if(r){var a=this.computed,u=a.minX,s=a.minY,c=a.maxX,f=a.maxY;return null!=u&&null!=s&&null!=c&&null!=f||(this._updateComputed({points:i}),u=this.computed.minX,s=this.computed.minY,c=this.computed.maxX,f=this.computed.maxY),Xt.box(u,s,c,f,t,n)}if(o){var l=this._getLineWidth();return Xt.polyline(i,l,!0,t,n)}},n.prototype._createPath=function(t){var n=this.attrs,e=n.points,r=n.cw;if(e.length){if(t.beginPath(),t.moveTo(e[0][0],e[0][1]),r)for(var o=e.length;o>1;o--)t.lineTo(e[o][0],e[o][1]);else for(var i=1;i<e.length;i++)t.lineTo(e[i][0],e[i][1]);t.closePath()}},n}(Ft);sn.ATTRS={x:0,y:0,r:50,angle:0,vertices:0,regular:!1,cw:!1,points:[]};var cn=sn,fn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Ring",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,i=e.y,a=e.inner,u=e.outer,s=e.start,c=e.angle,f=o.default.translateToPi(s),l=o.default.translateToPi(c);return Math.abs(c)>=360&&(l=2*Math.PI),Xt.ring(r,i,a,u,f,l,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,i=n.inner,a=n.outer,u=n.start,s=n.angle,c=o.default.translateToPi(u),f=o.default.translateToPi(u+s);if(a<=0||a<=i)throw"outer must be greater than inner";if(Math.abs(s)>=360)t.beginPath(),t.arc(e,r,a,0,2*Math.PI,!1),i>0&&(t.arc(e,r,i,0,2*Math.PI,!0),t.closePath());else{var l=s>0,p=e+Math.cos(c)*a,h=r+Math.sin(c)*a,y=e+Math.cos(f)*i,d=r+Math.sin(f)*i;t.beginPath(),t.arc(e,r,a,c,f,!l),t.lineTo(y,d),i>0&&(t.arc(e,r,i,f,c,l),t.lineTo(p,h)),t.closePath()}},n}(Ft);fn.ATTRS={x:0,y:0,inner:10,outer:20,start:0,angle:360};var ln=fn,pn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Arc",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.x,i=e.y,a=e.r,u=e.start,s=e.angle,c=s<0,f=this._getLineWidth(),l=o.default.translateToPi(u),p=o.default.translateToPi(u+s);return Math.abs(s)>=360&&(l=0,p=2*Math.PI),Xt.arcline(r,i,a,l,p,c,f,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.x,r=n.y,i=n.r,a=n.start,u=n.angle,s=u<0;if(i<=0)throw"r must be greater than 0";var c=o.default.translateToPi(a),f=o.default.translateToPi(a+u);Math.abs(u)>=360&&(c=0,f=2*Math.PI),t.beginPath(),t.arc(e,r,i,c,f,s)},n}(Ft);pn.ATTRS={x:0,y:0,r:10,start:0,angle:0,hasFill:!1,hasStroke:!0};var hn=pn,yn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Bezier",i,r))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.includes=function(t,n){var e=this.attrs,r=e.p,o=e.type,i=this._getLineWidth();return"quadratic"===o?Xt.quadraticline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,i,t,n):"cubic"===o&&Xt.cubicline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,i,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.p,r=n.type;if(t.beginPath(),t.moveTo(e[0].x,e[0].y),"quadratic"===r){if(e.length<3)throw"二次贝塞尔曲线必须有三个坐标点";t.quadraticCurveTo(e[1].x,e[1].y,e[2].x,e[2].y)}else{if(e.length<4)throw"三次贝塞尔曲线必须有四个坐标点";t.bezierCurveTo(e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y)}},n}(Ft);yn.ATTRS={p:[{x:0,y:10},{x:10,y:20},{x:20,y:10},{x:20,y:0}],type:"quadratic",hasFill:!1,hasStroke:!0};var dn=yn,vn=e(8),mn=e(2),bn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,"Polyline",i,r)),u=a.attrs,s=u.smooth,c=u.points,f=u.t,l=u.position;s&&(a._cps=function(t,n){n=o.default.clamp(n,0,1);for(var e=[],r=[],i=[],a=[],u=void 0,s=void 0,c=0,f=t.length;c<f;c++){var l=t[c];if(0===c||c===f-1)e.push(l);else{u=t[c-1],s=t[c+1],mn.sub(r,s,u),mn.scale(r,r,n);var p=mn.distance(l,u),h=mn.distance(l,s),y=p+h;0!==y&&(p/=y,h/=y),mn.scale(i,r,-p),mn.scale(a,r,h);var d=mn.add([],l,i),v=mn.add([],l,a);e.push(d),e.push(v)}}return e}(c,s));var p=function(t,n,e){var r=0,i=t.length;if(i<1)return r;if(!o.default.isEmpty(n)&&e)for(var a=0;a<i-1;a++){var u=t[a],s=t[a+1],c=n[2*a],f=n[2*a+1];r+=vn.len(u[0],u[1],c[0],c[1],f[0],f[1],s[0],s[1]),s[2]=r}else for(var l=1;l<i;l++){var p=t[l-1],h=t[l];r+=mn.distance(p,h),h[2]=r}return t[0][2]=0,r}(c,a._cps,s),h={distances:p};return 1!==f&&l&&(h.position=a._getCurrentPosition(f,p)),o.default.assign(a.computed,h),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._getCurrentPosition=function(t,n){var e=this.attrs,r=e.points,i=e.smooth,a=this._cps,u=n*t,s=r.findIndex(function(t){return t[2]>=u}),c=s-1,f=[0,0];if(c>-1){var l=r[c],p=r[s],h=l[2]?u-l[2]:u,y=p[2]-l[2],d=o.default.clamp(h/y,0,1);if(i&&!o.default.isEmpty(a)){var v=a[2*c],m=a[2*c+1];d=vn.evenSpeed(l[0],l[1],v[0],v[1],m[0],m[1],p[0],p[1],d,y),f=[vn.at(l[0],v[0],m[0],p[0],d),vn.at(l[1],v[1],m[1],p[1],d)]}else mn.lerp(f,l,p,d)}else f=[r[0][0],r[0][1]];return f},n.prototype._updateComputed=function(t){if(t&&t.points){var n=1/0,e=1/0,r=-1/0,i=-1/0;t.points.forEach(function(t){t[0]<n&&(n=t[0]),t[1]<e&&(e=t[1]),t[0]>r&&(r=t[0]),t[1]>i&&(i=t[1])}),o.default.assign(this.computed,{minX:n,minY:e,maxX:r,maxY:i})}},n.prototype.setAttrs=function(n){var e=this.attrs,r=e.t;if(e.position&&"t"in n){var i=n.t,a=this.computed.distances;if(i!==r){var u=this._getCurrentPosition(i,a);o.default.assign(this.computed,{position:u})}}t.prototype.setAttrs.call(this,n)},n.prototype.includes=function(t,n){var e=this.attrs,r=e.close,i=e.points,a=e.smooth,u=this._getLineWidth();if(a&&!o.default.isEmpty(this._cps)){var s=this._cps;return Xt.polyBezier(i,s,u,r,t,n)}return Xt.polyline(i,u,r,t,n)},n.prototype._createPath=function(t){var n=this.attrs,e=n.points,r=n.close,i=n.smooth,a=n.t,u=this.computed.distances,s=this._cps;if(1!==a&&t.setLineDash&&t.setLineDash([u*a,u]),e.length){if(t.beginPath(),t.moveTo(e[0][0],e[0][1]),i&&!o.default.isEmpty(s))for(var c=0,f=e.length;c<f-1;c++){var l=s[2*c],p=s[2*c+1],h=e[c+1];t.bezierCurveTo(l[0],l[1],p[0],p[1],h[0],h[1])}else for(var y=1;y<e.length;y++)t.lineTo(e[y][0],e[y][1]);r&&t.closePath()}},n}(Ft);bn.ATTRS={close:!1,points:[],smooth:0,t:1,position:!1,hasFill:!1,hasStroke:!0};var gn=bn,wn=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=o.default.assign({},{attrs:n.ATTRS},e),a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,r,"Layer",i));return a._boxTrigger=!0,a.shapes=[],a._initPalette(),a._updateComputed(),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._insertElement=function(t){var n=t.zIndex||0,e=o.default.findLastIndex(this.shapes,function(t){return t.zIndex<=n});t._weight=t._weight+e+1,-1===e?this.shapes.unshift(t):this.shapes.splice(e+1,0,t)},n.prototype._initPalette=function(){if(!this.brush){var t=this.container.getCanvas();this.palette=document.createElement("canvas"),this.palette.width=t.element.width,this.palette.height=t.element.height;var n=this.palette.getContext("2d");this.brush=n,this._initBrush()}},n.prototype._initBrush=function(){var t=this.attrs,n=this.style,e=this.brush,r=t.opacity,i=this.container.getContext(),a=this.container.getHeritage(),u=Object.assign({},a.style,n);Object.keys(u).forEach(function(t){e[t]=u[t]}),e.globalAlpha=1!==r?o.default.clamp(i.globalAlpha*r,0,1):i.globalAlpha,this._getFontSize(e.font)<12&&(e.font=e.font.replace(/(^|\s)(\d{1,}px)(\s|$)/gi," 12px "))},n.prototype._updateComputed=function(){var t=this.attrs,n=this.container,e=this.shapes,r=this.palette,i=t.x,a=t.y,u=t.width,s=t.height,c=i,f=a;"Layer"===n.type&&(c+=n.computed.offsetX,f+=n.computed.offsetY);var l={minX:c,minY:f,maxX:u?c+u:r.width,maxY:s?f+s:r.height};o.default.assign(this.computed,{offsetX:c,offsetY:f,box:l}),e.forEach(function(t){"Layer"===t.type&&t._updateComputed()})},n.prototype._draw=function(t){var n=this.shapes,e=this.brush,r=this.palette,o=this.attrs,i=this.visible,a=o.x,u=o.y,s=this.getStatus();this.container.getStatus().styleChanged&&this._initBrush(),i&&(s.drawn&&!s.dirty||(e.clearRect(0,0,r.width,r.height),n.forEach(function(t){t._draw(e)})),t.drawImage(r,a,u,r.width,r.height),this.setStatus({drawn:!0,dirty:!1,styleChanged:!1}))},n.prototype.getContext=function(){return this.brush||this._initPalette(),this.brush},n.prototype.includes=function(t,n){if(this._boxTrigger){var e=this.computed.box;return t>=e.minX&&t<=e.maxX&&n>=e.minY&&n<=e.maxY}var r=this.shapes,o=this.attrs,i=o.x,a=o.y;return t>=i&&n>=a&&r.length>0&&r.some(function(e){return e.includes(t-i,n-a)})},n.prototype.addShape=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t instanceof Dt){var e=t.getOriginal("animate");e&&(n.animate=e),t=(n=o.default.assign({},t,n)).type}var i=o.default.upperFirst(t);if("Image"===i&&(i="ZImage"),"Video"===i&&(i="ZVideo"),!r[i])throw"目前还不支持"+i+"类型的图形";var a=new r[i](n,this);return this._insertElement(a),a},n.prototype.addLayer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(t instanceof n){var r=t.getOriginal("animate");r&&(t.animate=r),t=o.default.assign({},t,e)}var i=new n(t,this);return this._insertElement(i),i},n.prototype.remove=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=o.default.remove(this.shapes,function(t){return n.includes(t)});return r.length&&this.getCanvas().emit("@@clear",{shapes:r}),r},n.prototype.boxTrigger=function(t){return this._boxTrigger=!!t,this},n.prototype.clear=function(){return this.shapes=[],this},n}(Dt);wn.ATTRS={x:0,y:0,width:void 0,height:void 0,opacity:1};var xn=wn,_n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn=function(t){function n(e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this));i._eventHandle=function(t){var n=i._canvasPoint(t.clientX,t.clientY),e=n.x,r=n.y,a=t.type;"mouseout"===a&&(a="mousemove");var u=function(n){var o=[];if(Array.isArray(n))return n.forEach(function(n){var u=e,s=r;if("Layer"===n.container.type&&(u-=n.container.computed.offsetX,s-=n.container.computed.offsetY),n.includes(u,s)){var c={x:e,y:r,layerX:u,layerY:s},f=i._createEventData(a,n,c,t);o.push({element:n,eventData:f})}}),o},s=u(i.registeredElements[a]);if("mousemove"===a){var c=function(t){return t.element},f=i._lastTrigger,l=i.registeredElements.mouseout||[],p=i.registeredElements.mouseenter||[],h=u([].concat(l,p)),y=o.default.differenceBy(f,h,c),d=o.default.differenceBy(h,f,c);o.default.isEmpty(d)||i.emit("mouseenter",d),o.default.isEmpty(y)||i.emit("mouseout",y),i._lastTrigger=h}o.default.isEmpty(s)||i.emit(a,s)},i._draw=function(){var t=i.element,n=i.layers,e=i.context,r=i.computed,o=i._status;i._updateDrawInfo(),e.clearRect(0,0,t.width,t.height),n.forEach(function(t){t._draw(e)}),o.drawn||(i._setStatus({drawn:!0}),i.emit("@@play")),r.animate>0?i.timer=requestAnimationFrame(i._draw):i.timer=null},e?"object"!==(void 0===e?"undefined":Mn(e))||e instanceof HTMLElement||(r=e,e=document.body):e=document.body;var a=o.default.assign({},n.ATTRS,r),u=a.width,s=a.height,c=a.style;return i.timer=null,i.width=u,i.height=s,i.style=c,i.layers=[],i.computed={shapes:0,layers:0,animate:0},i._heritage=_n({},c),i._status={drawn:!1,dirty:!1},i._initElement(e),i._initEvent(),i._initBackground(),i._initDrawInfo(),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._initElement=function(t){var n=this,e=this.width,r=this.height,o=this.style,i=void 0;if("string"==typeof t&&(t=document.getElementById(t)),t instanceof HTMLCanvasElement?(i=t,t=t.parentElement):t instanceof HTMLElement&&(i=document.createElement("canvas"),t.appendChild(i)),!i)throw"get canvas element failed!";this.element=i,this.element.width=e,this.element.height=r,this.element.style.display="block",this.container=t,this.context=i.getContext("2d"),o&&Object.keys(o).forEach(function(t){n.context[t]=o[t]})},n.prototype._initBackground=function(){var t=new xn({zIndex:-1},this);this._background=t,this.layers.unshift(t),this.emit("@@change","layer",1)},n.prototype._initEvent=function(){this.element.addEventListener("click",this._eventHandle,!1),this.element.addEventListener("dblclick",this._eventHandle,!1),this.element.addEventListener("mousedown",this._eventHandle,!1),this.element.addEventListener("mouseup",this._eventHandle,!1),this.element.addEventListener("mousemove",this._eventHandle,!1),this.element.addEventListener("mouseout",this._eventHandle,!1),this.on("@@change",this._contentChange),this.on("@@clear",this._clearEventAsync)},n.prototype._initDrawInfo=function(){this.drawInfo={drawTime:null,fps:0}},n.prototype._updateDrawInfo=function(){var t=this.drawInfo.drawTime,n=Date.now(),e=t?~~(1e3/(n-t)+.5):0;o.default.assign(this.drawInfo,{fps:e,drawTime:n})},n.prototype._setComputed=function(t){o.default.assign(this.computed,t)},n.prototype._contentChange=function(t,n){var e=this.computed,r=e.shapes,o=e.layers;"layer"===t?this._setComputed({layers:o+n}):this._setComputed({shapes:r+n})},n.prototype._clearEventAsync=function(t){var n=t.shapes;this._clearEvent(n)},n.prototype._canvasPoint=function(t,n){var e=this.element,r=e.getBoundingClientRect(),o=r.right-r.left,i=r.bottom-r.top;return{x:(t-r.left)*(e.width/o),y:(n-r.top)*(e.height/i)}},n.prototype._setStatus=function(t){Object.assign(this._status,t)},n.prototype._setHeritage=function(t){Object.assign(this._heritage,t)},n.prototype.getHeritage=function(){return this._heritage},n.prototype.getStatus=function(){return this._status},n.prototype.getContext=function(){return this.context},n.prototype.getCanvas=function(){return this},n.prototype.addShape=function(t,n){var e=this._background.addShape(t,n);return this.emit("@@change","shape",1),e},n.prototype.addLayer=function(t,n){if(t instanceof xn){var e=t.getOriginal("animate");e&&(t.animate=e),t=o.default.assign({},t,n)}var r=new xn(t,this),i=r.zIndex||0,a=o.default.findLastIndex(this.layers,function(t){return t.zIndex<=i});return r._weight=a+1,-1===a?this.layers.unshift(r):this.layers.splice(a+1,0,r),this.emit("@@change","layer",1),r},n.prototype.remove=function(){for(var t,n=[],e=[],r=[],i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];if(a.forEach(function(t){"Layer"===t.type?e.push(t):n.push(t)}),n.length>0&&(r=(t=this._background).remove.apply(t,n),this.emit("@@change","shape",-r.length)),e.length>0){var s=o.default.remove(this.layers,function(t){return e.includes(t)});r=r.concat(s),this.emit("@@change","layer",-s.length),this.emit("@@clearEvent",{shapes:s})}return r},n.prototype.clear=function(){var t=this.element,n=this.timer,e=this.context;n&&(cancelAnimationFrame(n),this.timer=null),e.clearRect(0,0,t.width,t.height),this.layers=[],this.computed={shapeLength:0,layerLength:0,animate:0},this._status={drawn:!1,dirty:!1},this._clearEvent(),this._initEvent(),this._initBackground(),this._initDrawInfo()},n.prototype.update=function(){this._status.drawn&&this.draw()},n.prototype.draw=function(){var t=this.timer;t&&cancelAnimationFrame(t),this.timer=requestAnimationFrame(this._draw)},n}(qt);Sn.ATTRS={width:300,height:300},n.default=Sn},function(t,n,e){"use strict";var r=function(){this.pos=0,this.buf=null,this.buflen=0,this.optable={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE","^":"POWER","(":"L_PAREN",")":"R_PAREN","=":"EQUALS"}};r.prototype.input=function(t){this.pos=0,this.buf=t,this.buflen=t.length},r.prototype.token=function(){if(this._skipnontokens(),this.pos>=this.buflen)return null;var t=this.buf.charAt(this.pos),n=this.optable[t];if(void 0!==n)return"L_PAREN"===n||"R_PAREN"===n?{type:"PAREN",value:n,pos:this.pos++}:{type:"OPERATOR",value:n,pos:this.pos++};if(r._isalpha(t))return this._process_identifier();if(r._isdigit(t))return this._process_number();throw new SyntaxError("Token error at character "+t+" at position "+this.pos)},r._isdigit=function(t){return t>="0"&&t<="9"},r._isalpha=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},r._isalphanum=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"},r.prototype._process_digits=function(t){for(var n=t;n<this.buflen&&r._isdigit(this.buf.charAt(n));)n++;return n},r.prototype._process_number=function(){var t=this._process_digits(this.pos);if("."===this.buf.charAt(t)&&(t=this._process_digits(t+1)),"."===this.buf.charAt(t-1))throw new SyntaxError("Decimal point without decimal digits at position "+(t-1));var n={type:"NUMBER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,n},r.prototype._process_identifier=function(){for(var t=this.pos+1;t<this.buflen&&r._isalphanum(this.buf.charAt(t));)t++;var n={type:"IDENTIFIER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,n},r.prototype._skipnontokens=function(){for(;this.pos<this.buflen;){var t=this.buf.charAt(this.pos);if(" "!=t&&"\t"!=t&&"\r"!=t&&"\n"!=t)break;this.pos++}},t.exports=r},function(t,n,e){"use strict";var r=e(94),o=e(12).Expression,i=e(18),a=e(51),u=function(){this.lexer=new r,this.current_token=null};u.prototype.update=function(){this.current_token=this.lexer.token()},u.prototype.match=function(t){if(null===this.current_token)return"epsilon"===t;switch(t){case"plus":return"OPERATOR"===this.current_token.type&&"PLUS"===this.current_token.value;case"minus":return"OPERATOR"===this.current_token.type&&"MINUS"===this.current_token.value;case"multiply":return"OPERATOR"===this.current_token.type&&"MULTIPLY"===this.current_token.value;case"power":return"OPERATOR"===this.current_token.type&&"POWER"===this.current_token.value;case"divide":return"OPERATOR"===this.current_token.type&&"DIVIDE"===this.current_token.value;case"equal":return"OPERATOR"===this.current_token.type&&"EQUALS"===this.current_token.value;case"lparen":return"PAREN"===this.current_token.type&&"L_PAREN"===this.current_token.value;case"rparen":return"PAREN"===this.current_token.type&&"R_PAREN"===this.current_token.value;case"num":return"NUMBER"===this.current_token.type;case"id":return"IDENTIFIER"===this.current_token.type;default:return!1}},u.prototype.parse=function(t){return this.lexer.input(t),this.update(),this.parseEqn()},u.prototype.parseEqn=function(){var t=this.parseExpr();if(this.match("equal")){this.update();var n=this.parseExpr();return new a(t,n)}if(this.match("epsilon"))return t;throw new SyntaxError("Unbalanced Parenthesis")},u.prototype.parseExpr=function(){var t=this.parseTerm();return this.parseExprRest(t)},u.prototype.parseExprRest=function(t){if(this.match("plus")){this.update();var n=this.parseTerm();if(void 0===t||void 0===n)throw new SyntaxError("Missing operand");return this.parseExprRest(t.add(n))}if(this.match("minus")){this.update();var e=this.parseTerm();return void 0===t?this.parseExprRest(e.multiply(-1)):this.parseExprRest(t.subtract(e))}return t},u.prototype.parseTerm=function(){var t=this.parseFactor();return this.parseTermRest(t)},u.prototype.parseTermRest=function(t){if(this.match("multiply")){this.update();var n=this.parseFactor();return t.multiply(this.parseTermRest(n))}if(this.match("power")){this.update();var e=this.parseFactor();return this.parseTermRest(t.pow(parseInt(e.toString())))}if(this.match("divide")){this.update();var r=this.parseFactor();return this.parseTermRest(t.divide(this.convertToFraction(r)))}if(this.match("epsilon"))return t;var o=this.parseFactor();return void 0===o?t:t.multiply(this.parseTermRest(o))},u.prototype.convertToFraction=function(t){if(t.terms.length>0)throw new TypeError("Invalid Argument ("+t.toString()+"): Divisor must be of type Integer or Fraction.");var n=t.constants[0];return new i(n.numer,n.denom)},u.prototype.parseFactor=function(){if(this.match("num")){var t=this.parseNumber();return this.update(),t}if(this.match("id")){var n=new o(this.current_token.value);return this.update(),n}if(this.match("lparen")){this.update();var e=this.parseExpr();if(this.match("rparen"))return this.update(),e;throw new SyntaxError("Unbalanced Parenthesis")}},u.prototype.parseNumber=function(){if(parseInt(this.current_token.value)==this.current_token.value)return new o(parseInt(this.current_token.value));var t=this.current_token.value.split(".")[1].length,n=Math.pow(10,t),e=parseFloat(this.current_token.value);return new o(parseInt(e*n)).divide(n)},t.exports=u},function(t,n,e){var r=e(18),o=e(12).Expression,i=e(51),a=e(95);t.exports={Fraction:r,Expression:o,Equation:i,parse:function(t){return(new a).parse(t)},toTex:function(t){return t instanceof r||t instanceof o||t instanceof i?t.toTex():t instanceof Array?t.map(function(t){return t instanceof r?t.toTex():t.toString()}).join():t.toString()}}},function(t,n){t.exports={product:function(t,n){return t[0]*n[1]-t[1]*n[0]}}},function(t,n,e){var r=e(0).default,o=e(19).vec2;function i(t,n,e,r){return{x:Math.cos(r)*e+t,y:Math.sin(r)*e+n}}function a(t,n,e,r){var o=void 0,i=void 0;return r?t<n?(o=n-t,i=2*Math.PI-e+t):t>e&&(o=2*Math.PI-t+n,i=t-e):(o=t-n,i=e-t),o>i?e:n}function u(t,n,e,o){var i=0;return e-n>=2*Math.PI&&(i=2*Math.PI),n=r.mod(n,2*Math.PI),e=r.mod(e,2*Math.PI)+i,t=r.mod(t,2*Math.PI),o?n>=e?t>e&&t<n?t:a(t,e,n,!0):t<n||t>e?t:a(t,n,e):n<=e?n<t&&t<e?t:a(t,n,e,!0):t>n||t<e?t:a(t,e,n)}function s(t,n,e,r,i,a,s,c,f){var l=[s,c],p=[t,n],h=o.subtract([],l,p),y=o.angleTo([1,0],h);y=u(y,r,i,a);var d=[e*Math.cos(y)+t,e*Math.sin(y)+n];return f&&(f.x=d[0],f.y=d[1]),o.distance(d,l)}t.exports={nearAngle:u,projectPoint:function(t,n,e,r,o,i,a,u){var c={};return s(t,n,e,r,o,i,a,u,c),c},pointDistance:s,box:function(t,n,e,o,a,s){var c=Math.PI/2,f=Math.PI,l=3*Math.PI/2,p=[],h=u(0,o,a,s);0===h&&p.push(i(t,n,e,0)),(h=u(c,o,a,s))===c&&p.push(i(t,n,e,c)),(h=u(f,o,a,s))===f&&p.push(i(t,n,e,f)),(h=u(l,o,a,s))===l&&p.push(i(t,n,e,l)),p.push(i(t,n,e,o)),p.push(i(t,n,e,a));var y=1/0,d=-1/0,v=1/0,m=-1/0;return r.each(p,function(t){y>t.x&&(y=t.x),d<t.x&&(d=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)}),{minX:y,minY:v,maxX:d,maxY:m}}}},function(t,n,e){var r=e(0),o=e(19).vec2;function i(t,n,e,r){var o=1-r;return o*(o*t+2*r*n)+r*r*e}function a(t,n,e,r,a,u,s,c,f){var l=void 0,p=.005,h=1/0,y=void 0,d=void 0,v=void 0,m=void 0,b=void 0,g=void 0,w=[s,c];for(m=0;m<1;m+=.05)d=[i(t,e,a,m),i(n,r,u,m)],(y=o.squaredDistance(w,d))<h&&(l=m,h=y);for(h=1/0,g=0;g<32&&!(p<1e-4);g++){var x=l-p,_=l+p;d=[i(t,e,a,x),i(n,r,u,x)],y=o.squaredDistance(w,d),x>=0&&y<h?(l=x,h=y):(v=[i(t,e,a,_),i(n,r,u,_)],b=o.squaredDistance(w,v),_<=1&&b<h?(l=_,h=b):p*=.5)}return f&&(f.x=i(t,e,a,l),f.y=i(n,r,u,l)),Math.sqrt(h)}t.exports={at:i,projectPoint:function(t,n,e,r,o,i,u,s){var c={};return a(t,n,e,r,o,i,u,s,c),c},pointDistance:a,extrema:function(t,n,e){var o=t+e-2*n;if(r.isNumberEqual(o,0))return[.5];var i=(t-n)/o;return i<=1&&i>=0?[i]:[]}}},function(t,n,e){"use strict";e.r(n),e.d(n,"create",function(){return o}),e.d(n,"clone",function(){return i}),e.d(n,"length",function(){return a}),e.d(n,"fromValues",function(){return u}),e.d(n,"copy",function(){return s}),e.d(n,"set",function(){return c}),e.d(n,"add",function(){return f}),e.d(n,"subtract",function(){return l}),e.d(n,"multiply",function(){return p}),e.d(n,"divide",function(){return h}),e.d(n,"ceil",function(){return y}),e.d(n,"floor",function(){return d}),e.d(n,"min",function(){return v}),e.d(n,"max",function(){return m}),e.d(n,"round",function(){return b}),e.d(n,"scale",function(){return g}),e.d(n,"scaleAndAdd",function(){return w}),e.d(n,"distance",function(){return x}),e.d(n,"squaredDistance",function(){return _}),e.d(n,"squaredLength",function(){return M}),e.d(n,"negate",function(){return S}),e.d(n,"inverse",function(){return E}),e.d(n,"normalize",function(){return T}),e.d(n,"dot",function(){return j}),e.d(n,"cross",function(){return O}),e.d(n,"lerp",function(){return A}),e.d(n,"hermite",function(){return P}),e.d(n,"bezier",function(){return I}),e.d(n,"random",function(){return k}),e.d(n,"transformMat4",function(){return C}),e.d(n,"transformMat3",function(){return R}),e.d(n,"transformQuat",function(){return D}),e.d(n,"rotateX",function(){return N}),e.d(n,"rotateY",function(){return q}),e.d(n,"rotateZ",function(){return L}),e.d(n,"angle",function(){return F}),e.d(n,"str",function(){return z}),e.d(n,"exactEquals",function(){return V}),e.d(n,"equals",function(){return B}),e.d(n,"sub",function(){return H}),e.d(n,"mul",function(){return W}),e.d(n,"div",function(){return X}),e.d(n,"dist",function(){return Y}),e.d(n,"sqrDist",function(){return U}),e.d(n,"len",function(){return $}),e.d(n,"sqrLen",function(){return Z}),e.d(n,"forEach",function(){return Q});var r=e(1);function o(){var t=new r.a(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var n=new r.a(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function a(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function u(t,n,e){var o=new r.a(3);return o[0]=t,o[1]=n,o[2]=e,o}function s(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function c(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function f(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function l(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function p(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function h(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function y(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function d(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function v(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function m(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function b(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function g(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function w(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function x(t,n){var e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}function _(t,n){var e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function M(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function S(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function E(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function T(t,n){var e=n[0],r=n[1],o=n[2],i=e*e+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i),t}function j(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function O(t,n,e){var r=n[0],o=n[1],i=n[2],a=e[0],u=e[1],s=e[2];return t[0]=o*s-i*u,t[1]=i*a-r*s,t[2]=r*u-o*a,t}function A(t,n,e,r){var o=n[0],i=n[1],a=n[2];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t[2]=a+r*(e[2]-a),t}function P(t,n,e,r,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=n[0]*u+e[0]*s+r[0]*c+o[0]*f,t[1]=n[1]*u+e[1]*s+r[1]*c+o[1]*f,t[2]=n[2]*u+e[2]*s+r[2]*c+o[2]*f,t}function I(t,n,e,r,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,l=3*s*a,p=s*i;return t[0]=n[0]*c+e[0]*f+r[0]*l+o[0]*p,t[1]=n[1]*c+e[1]*f+r[1]*l+o[1]*p,t[2]=n[2]*c+e[2]*f+r[2]*l+o[2]*p,t}function k(t,n){n=n||1;var e=2*r.c()*Math.PI,o=2*r.c()-1,i=Math.sqrt(1-o*o)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=o*n,t}function C(t,n,e){var r=n[0],o=n[1],i=n[2],a=e[3]*r+e[7]*o+e[11]*i+e[15];return a=a||1,t[0]=(e[0]*r+e[4]*o+e[8]*i+e[12])/a,t[1]=(e[1]*r+e[5]*o+e[9]*i+e[13])/a,t[2]=(e[2]*r+e[6]*o+e[10]*i+e[14])/a,t}function R(t,n,e){var r=n[0],o=n[1],i=n[2];return t[0]=r*e[0]+o*e[3]+i*e[6],t[1]=r*e[1]+o*e[4]+i*e[7],t[2]=r*e[2]+o*e[5]+i*e[8],t}function D(t,n,e){var r=e[0],o=e[1],i=e[2],a=e[3],u=n[0],s=n[1],c=n[2],f=o*c-i*s,l=i*u-r*c,p=r*s-o*u,h=o*p-i*l,y=i*f-r*p,d=r*l-o*f,v=2*a;return f*=v,l*=v,p*=v,h*=2,y*=2,d*=2,t[0]=u+f+h,t[1]=s+l+y,t[2]=c+p+d,t}function N(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function q(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function L(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function F(t,n){var e=u(t[0],t[1],t[2]),r=u(n[0],n[1],n[2]);T(e,e),T(r,r);var o=j(e,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function B(t,n){var e=t[0],o=t[1],i=t[2],a=n[0],u=n[1],s=n[2];return Math.abs(e-a)<=r.b*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(o-u)<=r.b*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)<=r.b*Math.max(1,Math.abs(i),Math.abs(s))}var H=l,W=p,X=h,Y=x,U=_,$=a,Z=M,Q=function(){var t=o();return function(n,e,r,o,i,a){var u,s=void 0;for(e||(e=3),r||(r=0),u=o?Math.min(o*e+r,n.length):n.length,s=r;s<u;s+=e)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],i(t,t,a),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2];return n}}()},function(t,n,e){"use strict";e.r(n),e.d(n,"create",function(){return o}),e.d(n,"fromMat4",function(){return i}),e.d(n,"clone",function(){return a}),e.d(n,"copy",function(){return u}),e.d(n,"fromValues",function(){return s}),e.d(n,"set",function(){return c}),e.d(n,"identity",function(){return f}),e.d(n,"transpose",function(){return l}),e.d(n,"invert",function(){return p}),e.d(n,"adjoint",function(){return h}),e.d(n,"determinant",function(){return y}),e.d(n,"multiply",function(){return d}),e.d(n,"translate",function(){return v}),e.d(n,"rotate",function(){return m}),e.d(n,"scale",function(){return b}),e.d(n,"fromTranslation",function(){return g}),e.d(n,"fromRotation",function(){return w}),e.d(n,"fromScaling",function(){return x}),e.d(n,"fromMat2d",function(){return _}),e.d(n,"fromQuat",function(){return M}),e.d(n,"normalFromMat4",function(){return S}),e.d(n,"projection",function(){return E}),e.d(n,"str",function(){return T}),e.d(n,"frob",function(){return j}),e.d(n,"add",function(){return O}),e.d(n,"subtract",function(){return A}),e.d(n,"multiplyScalar",function(){return P}),e.d(n,"multiplyScalarAndAdd",function(){return I}),e.d(n,"exactEquals",function(){return k}),e.d(n,"equals",function(){return C}),e.d(n,"mul",function(){return R}),e.d(n,"sub",function(){return D});var r=e(1);function o(){var t=new r.a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function a(t){var n=new r.a(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function u(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function s(t,n,e,o,i,a,u,s,c){var f=new r.a(9);return f[0]=t,f[1]=n,f[2]=e,f[3]=o,f[4]=i,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f}function c(t,n,e,r,o,i,a,u,s,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,n){if(t===n){var e=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function p(t,n){var e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],l=f*a-u*c,p=-f*i+u*s,h=c*i-a*s,y=e*l+r*p+o*h;return y?(y=1/y,t[0]=l*y,t[1]=(-f*r+o*c)*y,t[2]=(u*r-o*a)*y,t[3]=p*y,t[4]=(f*e-o*s)*y,t[5]=(-u*e+o*i)*y,t[6]=h*y,t[7]=(-c*e+r*s)*y,t[8]=(a*e-r*i)*y,t):null}function h(t,n){var e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8];return t[0]=a*f-u*c,t[1]=o*c-r*f,t[2]=r*u-o*a,t[3]=u*s-i*f,t[4]=e*f-o*s,t[5]=o*i-e*u,t[6]=i*c-a*s,t[7]=r*s-e*c,t[8]=e*a-r*i,t}function y(t){var n=t[0],e=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return n*(c*i-a*s)+e*(-c*o+a*u)+r*(s*o-i*u)}function d(t,n,e){var r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],l=n[8],p=e[0],h=e[1],y=e[2],d=e[3],v=e[4],m=e[5],b=e[6],g=e[7],w=e[8];return t[0]=p*r+h*a+y*c,t[1]=p*o+h*u+y*f,t[2]=p*i+h*s+y*l,t[3]=d*r+v*a+m*c,t[4]=d*o+v*u+m*f,t[5]=d*i+v*s+m*l,t[6]=b*r+g*a+w*c,t[7]=b*o+g*u+w*f,t[8]=b*i+g*s+w*l,t}function v(t,n,e){var r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],l=n[8],p=e[0],h=e[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=p*r+h*a+c,t[7]=p*o+h*u+f,t[8]=p*i+h*s+l,t}function m(t,n,e){var r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],l=n[8],p=Math.sin(e),h=Math.cos(e);return t[0]=h*r+p*a,t[1]=h*o+p*u,t[2]=h*i+p*s,t[3]=h*a-p*r,t[4]=h*u-p*o,t[5]=h*s-p*i,t[6]=c,t[7]=f,t[8]=l,t}function b(t,n,e){var r=e[0],o=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function g(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function w(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function M(t,n){var e=n[0],r=n[1],o=n[2],i=n[3],a=e+e,u=r+r,s=o+o,c=e*a,f=r*a,l=r*u,p=o*a,h=o*u,y=o*s,d=i*a,v=i*u,m=i*s;return t[0]=1-l-y,t[3]=f-m,t[6]=p+v,t[1]=f+m,t[4]=1-c-y,t[7]=h-d,t[2]=p-v,t[5]=h+d,t[8]=1-c-l,t}function S(t,n){var e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],l=n[9],p=n[10],h=n[11],y=n[12],d=n[13],v=n[14],m=n[15],b=e*u-r*a,g=e*s-o*a,w=e*c-i*a,x=r*s-o*u,_=r*c-i*u,M=o*c-i*s,S=f*d-l*y,E=f*v-p*y,T=f*m-h*y,j=l*v-p*d,O=l*m-h*d,A=p*m-h*v,P=b*A-g*O+w*j+x*T-_*E+M*S;return P?(P=1/P,t[0]=(u*A-s*O+c*j)*P,t[1]=(s*T-a*A-c*E)*P,t[2]=(a*O-u*T+c*S)*P,t[3]=(o*O-r*A-i*j)*P,t[4]=(e*A-o*T+i*E)*P,t[5]=(r*T-e*O-i*S)*P,t[6]=(d*M-v*_+m*x)*P,t[7]=(v*w-y*M-m*g)*P,t[8]=(y*_-d*w+m*b)*P,t):null}function E(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function T(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function O(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t}function A(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function P(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t}function I(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t}function k(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function C(t,n){var e=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],p=n[0],h=n[1],y=n[2],d=n[3],v=n[4],m=n[5],b=n[6],g=n[7],w=n[8];return Math.abs(e-p)<=r.b*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(o-h)<=r.b*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-y)<=r.b*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(a-d)<=r.b*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(u-v)<=r.b*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-m)<=r.b*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-b)<=r.b*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-g)<=r.b*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(l-w)<=r.b*Math.max(1,Math.abs(l),Math.abs(w))}var R=d,D=A},function(t,n,e){var r=e(19).vec2;t.exports={at:function(t,n,e){return(n-t)*e+t},pointDistance:function(t,n,e,o,i,a){var u=[e-t,o-n];if(r.exactEquals(u,[0,0]))return NaN;var s=[-u[1],u[0]];r.normalize(s,s);var c=[i-t,a-n];return Math.abs(r.dot(c,s))},box:function(t,n,e,r,o){var i=o/2,a=Math.min(t,e),u=Math.max(t,e);return{minX:a-i,minY:Math.min(n,r)-i,maxX:u+i,maxY:Math.max(n,r)+i}},len:function(t,n,e,r){return Math.sqrt((e-t)*(e-t)+(r-n)*(r-n))}}},function(t,n,e){var r=e(10),o=e(27),i=e(3),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,n,e){var r=e(38),o=e(103);t.exports=function t(n,e,i,a,u){var s=-1,c=n.length;for(i||(i=o),u||(u=[]);++s<c;){var f=n[s];e>0&&i(f)?e>1?t(f,e-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,n){t.exports=function(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1}},function(t,n){t.exports=function(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}},function(t,n){t.exports=function(t){return t!=t}},function(t,n,e){var r=e(53),o=e(107),i=e(106);t.exports=function(t,n,e){return n==n?i(t,n,e):r(t,o,e)}},function(t,n,e){var r=e(108);t.exports=function(t,n){return!(null==t||!t.length)&&r(t,n,0)>-1}},function(t,n,e){var r=e(72),o=e(109),i=e(105),a=e(65),u=e(25),s=e(71);t.exports=function(t,n,e,c){var f=-1,l=o,p=!0,h=t.length,y=[],d=n.length;if(!h)return y;e&&(n=a(n,u(e))),c?(l=i,p=!1):n.length>=200&&(l=s,p=!1,n=new r(n));t:for(;++f<h;){var v=t[f],m=null==e?v:e(v);if(v=c||0!==v?v:0,p&&m==m){for(var b=d;b--;)if(n[b]===m)continue t;y.push(v)}else l(n,m,c)||y.push(v)}return y}},function(t,n,e){var r=e(55);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,n,e){var r=e(111);t.exports=function(t){var n=r(t),e=n%1;return n==n?e?n-e:n:0}},function(t,n,e){var r=e(5);t.exports=function(){return r.Date.now()}},function(t,n,e){var r=e(21),o=e(6);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,n,e){var r=e(114),o=e(25),i=e(40),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,n,e){var r=e(21),o=e(6);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,n,e){var r=e(116),o=e(25),i=e(40),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,n,e){var r=e(10),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,n){var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},function(t,n,e){var r=e(45);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}},function(t,n,e){var r=e(45),o=e(120),i=e(119),a=e(118),u=e(85);t.exports=function(t,n,e){var s=t.constructor;switch(n){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,e);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,n){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,n,e){var r=e(69),o=e(59),i=e(24);t.exports=function(t){return r(t,i,o)}},function(t,n,e){var r=e(15),o=e(59);t.exports=function(t,n){return r(t,o(t),n)}},function(t,n,e){var r=e(15),o=e(37);t.exports=function(t,n){return r(t,o(t),n)}},function(t,n,e){var r=e(15),o=e(24);t.exports=function(t,n){return t&&r(n,o(n),t)}},function(t,n,e){var r=e(15),o=e(14);t.exports=function(t,n){return t&&r(n,o(n),t)}},function(t,n,e){var r=e(22);t.exports=function(t){return"function"==typeof t?t:r}},function(t,n,e){var r=e(16);t.exports=function(t,n){return function(e,o){if(null==e)return e;if(!r(e))return t(e,o);for(var i=e.length,a=n?i:-1,u=Object(e);(n?a--:++a<i)&&!1!==o(u[a],a,u););return e}}},function(t,n,e){var r=e(87),o=e(14);t.exports=function(t,n){return t&&r(t,n,o)}},function(t,n,e){var r=e(130),o=e(129)(r);t.exports=o},function(t,n){t.exports=function(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+n];return i}},function(t,n,e){var r=e(36),o=e(132);t.exports=function(t,n){return n.length<2?t:r(t,o(n,0,-1))}},function(t,n,e){var r=e(35),o=e(64),i=e(133),a=e(13);t.exports=function(t,n){return n=r(n,t),null==(t=i(t,n))||delete t[a(o(n))]}},function(t,n,e){var r=e(134),o=e(23),i=Array.prototype.splice;t.exports=function(t,n){for(var e=t?n.length:0,a=e-1;e--;){var u=n[e];if(e==a||u!==s){var s=u;o(u)?i.call(t,u,1):r(t,u)}}return t}},function(t,n,e){var r=e(36);t.exports=function(t){return function(n){return r(n,t)}}},function(t,n){t.exports=function(t){return function(n){return null==n?void 0:n[t]}}},function(t,n,e){var r=e(137),o=e(136),i=e(34),a=e(13);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,n,e){var r=e(35),o=e(27),i=e(3),a=e(23),u=e(42),s=e(13);t.exports=function(t,n,e){for(var c=-1,f=(n=r(n,t)).length,l=!1;++c<f;){var p=s(n[c]);if(!(l=null!=t&&e(t,p)))break;t=t[p]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&u(f)&&a(p,f)&&(i(t)||o(t))}},function(t,n){t.exports=function(t,n){return null!=t&&n in Object(t)}},function(t,n,e){var r=e(140),o=e(139);t.exports=function(t,n){return null!=t&&o(t,n,r)}},function(t,n,e){var r=e(10),o=e(65),i=e(3),a=e(20),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(i(n))return o(n,t)+"";if(a(n))return s?s.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(t,n,e){var r=e(142);t.exports=function(t){return null==t?"":r(t)}},function(t,n,e){var r=e(48),o="Expected a function";function i(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(o);var e=function e(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(i.Cache||r),e}i.Cache=r,t.exports=i},function(t,n,e){var r=e(144);t.exports=function(t){var n=r(t,function(t){return 500===e.size&&e.clear(),t}),e=n.cache;return n}},function(t,n,e){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=e(145)(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(r,function(t,e,r,i){n.push(r?i.replace(o,"$1"):e||t)}),n});t.exports=i},function(t,n,e){var r=e(36);t.exports=function(t,n,e){var o=null==t?void 0:r(t,n);return void 0===o?e:o}},function(t,n,e){var r=e(74),o=e(147),i=e(141),a=e(34),u=e(67),s=e(66),c=e(13);t.exports=function(t,n){return a(t)&&u(n)?s(c(t),n):function(e){var a=o(e,t);return void 0===a&&a===n?i(e,t):r(n,a,3)}}},function(t,n,e){var r=e(67),o=e(14);t.exports=function(t){for(var n=o(t),e=n.length;e--;){var i=n[e],a=t[i];n[e]=[i,a,r(a)]}return n}},function(t,n,e){var r=e(7)(e(5),"WeakMap");t.exports=r},function(t,n,e){var r=e(7)(e(5),"Set");t.exports=r},function(t,n,e){var r=e(7)(e(5),"Promise");t.exports=r},function(t,n,e){var r=e(7)(e(5),"DataView");t.exports=r},function(t,n,e){var r=e(81)(Object.keys,Object);t.exports=r},function(t,n,e){var r=e(43),o=e(154),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))i.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i}},function(t,n,e){var r=e(70),o=Object.prototype.hasOwnProperty;t.exports=function(t,n,e,i,a,u){var s=1&e,c=r(t),f=c.length;if(f!=r(n).length&&!s)return!1;for(var l=f;l--;){var p=c[l];if(!(s?p in n:o.call(n,p)))return!1}var h=u.get(t);if(h&&u.get(n))return h==n;var y=!0;u.set(t,n),u.set(n,t);for(var d=s;++l<f;){var v=t[p=c[l]],m=n[p];if(i)var b=s?i(m,v,p,n,t,u):i(v,m,p,t,n,u);if(!(void 0===b?v===m||a(v,m,e,i,u):b)){y=!1;break}d||(d="constructor"==p)}if(y&&!d){var g=t.constructor,w=n.constructor;g!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(y=!1)}return u.delete(t),u.delete(n),y}},function(t,n){t.exports=function(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}},function(t,n){t.exports=function(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}},function(t,n,e){var r=e(10),o=e(84),i=e(17),a=e(73),u=e(159),s=e(158),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,n,e,r,c,l,p){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!l(new o(t),new o(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var h=u;case"[object Set]":var y=1&r;if(h||(h=s),t.size!=n.size&&!y)return!1;var d=p.get(t);if(d)return d==n;r|=2,p.set(t,n);var v=a(h(t),h(n),r,c,l,p);return p.delete(t),v;case"[object Symbol]":if(f)return f.call(t)==f.call(n)}return!1}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,n,e){var r=e(32),o=e(73),i=e(160),a=e(157),u=e(21),s=e(3),c=e(26),f=e(41),l="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype.hasOwnProperty;t.exports=function(t,n,e,d,v,m){var b=s(t),g=s(n),w=b?p:u(t),x=g?p:u(n),_=(w=w==l?h:w)==h,M=(x=x==l?h:x)==h,S=w==x;if(S&&c(t)){if(!c(n))return!1;b=!0,_=!1}if(S&&!_)return m||(m=new r),b||f(t)?o(t,n,e,d,v,m):i(t,n,w,e,d,v,m);if(!(1&e)){var E=_&&y.call(t,"__wrapped__"),T=M&&y.call(n,"__wrapped__");if(E||T){var j=E?t.value():t,O=T?n.value():n;return m||(m=new r),v(j,O,e,d,m)}}return!!S&&(m||(m=new r),a(t,n,e,d,v,m))}},function(t,n,e){var r=e(32),o=e(74);t.exports=function(t,n,e,i){var a=e.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=e[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=e[a])[0],l=t[f],p=c[1];if(s&&c[2]){if(void 0===l&&!(f in t))return!1}else{var h=new r;if(i)var y=i(l,p,f,t,n,h);if(!(void 0===y?o(p,l,3,i,h):y))return!1}}return!0}},function(t,n,e){var r=e(165),o=e(149),i=e(66);t.exports=function(t){var n=o(t);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(17),i=e(16),a=e(23),u=e(4);t.exports=function(t,n,e){if(!u(e))return!1;var s=void 0===n?"undefined":r(n);return!!("number"==s?i(e)&&a(n,e.length):"string"==s&&n in e)&&o(e[n],t)}},function(t,n){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},function(t,n){t.exports=function(t){return function(){return t}}},function(t,n,e){var r=e(169),o=e(88),i=e(22),a=o?function(t,n){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(n),writable:!0})}:i;t.exports=a},function(t,n,e){var r=e(170),o=e(168)(r);t.exports=o},function(t,n){t.exports=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}},function(t,n,e){var r=e(172),o=Math.max;t.exports=function(t,n,e){return n=o(void 0===n?t.length-1:n,0),function(){for(var i=arguments,a=-1,u=o(i.length-n,0),s=Array(u);++a<u;)s[a]=i[n+a];a=-1;for(var c=Array(n+1);++a<n;)c[a]=i[a];return c[n]=e(s),r(t,this,c)}}},function(t,n,e){var r=e(76),o=e(167);t.exports=function(t){return r(function(n,e){var r=-1,i=e.length,a=i>1?e[i-1]:void 0,u=i>2?e[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(e[0],e[1],u)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var s=e[r];s&&t(n,s,r,a)}return n})}},function(t,n){t.exports=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}},function(t,n,e){var r=e(4),o=e(43),i=e(175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var n=o(t),e=[];for(var u in t)("constructor"!=u||!n&&a.call(t,u))&&e.push(u);return e}},function(t,n){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},function(t,n,e){var r=e(15),o=e(24);t.exports=function(t){return r(t,o(t))}},function(t,n,e){var r=e(11),o=e(42),i=e(6),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,n,e){var r=e(11),o=e(44),i=e(6),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var n=o(t);if(null===n)return!0;var e=c.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==f}},function(t,n){t.exports=function(){return!1}},function(t,n,e){var r=e(11),o=e(6);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,n,e){var r=e(4),o=Object.create,i=function(){function t(){}return function(n){if(!r(n))return{};if(o)return o(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();t.exports=i},function(t,n,e){var r=e(89),o=e(86),i=e(85),a=e(83),u=e(82),s=e(27),c=e(3),f=e(80),l=e(26),p=e(49),h=e(4),y=e(180),d=e(41),v=e(79),m=e(178);t.exports=function(t,n,e,b,g,w,x){var _=v(t,e),M=v(n,e),S=x.get(M);if(S)r(t,e,S);else{var E=w?w(_,M,e+"",t,n,x):void 0,T=void 0===E;if(T){var j=c(M),O=!j&&l(M),A=!j&&!O&&d(M);E=M,j||O||A?c(_)?E=_:f(_)?E=a(_):O?(T=!1,E=o(M,!0)):A?(T=!1,E=i(M,!0)):E=[]:y(M)||s(M)?(E=_,s(_)?E=m(_):(!h(_)||b&&p(_))&&(E=u(M))):T=!1}T&&(x.set(M,E),g(E,M,b,w,x),x.delete(M)),r(t,e,E)}}},function(t,n){t.exports=function(t){return function(n,e,r){for(var o=-1,i=Object(n),a=r(n),u=a.length;u--;){var s=a[t?u:++o];if(!1===e(i[s],s,i))break}return n}}},function(t,n,e){var r=e(28);t.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},function(t,n,e){var r=e(28);t.exports=function(t){return r(this,t).has(t)}},function(t,n,e){var r=e(28);t.exports=function(t){return r(this,t).get(t)}},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":e(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},function(t,n,e){var r=e(28);t.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n,e){var r=e(29);t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?"__lodash_hash_undefined__":n,this}},function(t,n,e){var r=e(29),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},function(t,n,e){var r=e(29),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(r){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(n,t)?n[t]:void 0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n,e){var r=e(29);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,n,e){var r=e(195),o=e(194),i=e(193),a=e(192),u=e(191);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n,e){var r=e(196),o=e(31),i=e(50);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,e){var r=e(5)["__core-js_shared__"];t.exports=r},function(t,n,e){var r=e(199),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var r=e(10),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,u),e=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(n?t[u]=e:delete t[u]),o}},function(t,n){var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(e=window)}t.exports=e},function(t,n,e){var r=e(49),o=e(200),i=e(4),a=e(90),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},function(t,n,e){var r=e(31),o=e(50),i=e(48);t.exports=function(t,n){var e=this.__data__;if(e instanceof r){var a=e.__data__;if(!o||a.length<199)return a.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(a)}return e.set(t,n),this.size=e.size,this}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},function(t,n,e){var r=e(31);t.exports=function(){this.__data__=new r,this.size=0}},function(t,n,e){var r=e(30);t.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},function(t,n,e){var r=e(30);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,n,e){var r=e(30);t.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},function(t,n,e){var r=e(30),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0||(e==n.length-1?n.pop():o.call(n,e,1),--this.size,0))}},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,e){var r=e(32),o=e(89),i=e(87),a=e(184),u=e(4),s=e(24),c=e(79);t.exports=function t(n,e,f,l,p){n!==e&&i(e,function(i,s){if(u(i))p||(p=new r),a(n,e,s,f,t,l,p);else{var h=l?l(c(n,s),i,s+"",n,e,p):void 0;void 0===h&&(h=i),o(n,s,h)}},s)}},function(t,n,e){var r=e(93).default;t.exports={Canvas:r}}])});